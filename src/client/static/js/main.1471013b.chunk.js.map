{"version":3,"sources":["resources/help.png","utils/history.js","api/instance.js","api/redux/actions/nodeActions.js","api/redux/actions/types.js","api/redux/actions/authActions.js","api/redux/actions/userActions.js","api/redux/actions/associationActions.js","api/redux/actions/componentActions.js","api/redux/actions/portActions.js","api/redux/actions/fileActions.js","components/layouts/Login.js","components/elements/Spinner.js","components/elements/MainSider.js","components/elements/IOBar.js","utils/inputValidation.js","components/elements/node/NodeCardHeaderFull.js","components/elements/node/NodeCardHeader.js","types/render/core/Text.js","types/render/core/Image.js","types/render/core/Url.js","types/render/core/File.js","types/render/core/Audio.js","types/render/core/Package.js","types/render/core/Zip.js","types/render/core/Collection.js","types/render/core/User.js","types/render/NodeRenderer.js","components/elements/node/NodeCard.js","components/elements/association/AssociationLink.js","components/elements/association/AssociationLinkList.js","components/elements/association/AssociationSider.js","components/elements/node/NodeList.js","components/layouts/Home.js","components/layouts/Profile.js","components/layouts/Options.js","components/elements/MainContent.js","components/layouts/Activity.js","components/elements/association/AssociationList.js","components/QuillEditor/QuillEditor.js","api/redux/reducers/associationReducer.js","api/redux/actions/textActions.js","components/elements/MainFooter.js","components/layouts/Collections.js","components/layouts/CreateAccount.js","components/elements/node/NodeCardFull.js","components/layouts/AssociationBrowser.js","components/layouts/GraphBrowser.js","api/redux/actions/graphActions.js","components/layouts/Help.js","components/elements/node/PinList.js","components/elements/PinHeader.js","components/layouts/Pins.js","components/App.js","api/redux/reducers/authReducer.js","api/redux/reducers/nodeReducer.js","api/redux/reducers/componentReducer.js","api/redux/reducers/graphReducer.js","index.js","api/redux/reducers/index.js","resources/synthona-logo.png","resources/cloud9.png"],"names":["module","exports","createBrowserHistory","CancelToken","axios","source","create","baseURL","withCredentials","cancelToken","token","fetchNodes","query","dispatch","a","type","instance","get","params","page","searchQuery","pinned","response","payload","data","message","error","history","push","searchNodes","updateNode","node","patch","uuid","hidden","searchable","name","preview","result","console","log","createNode","file","delta","Delta","insert","content","JSON","stringify","put","isFile","linkedNode","status","createUrlNode","path","markNodeView","setActiveNode","clearActiveNode","signOut","success","fetchUserByUsername","username","user","fetchAssociationLinkList","nodeUUID","fetchAssociations","updateLinkStrength","nodeA","nodeB","showComponent","hideComponent","generateInstanceExport","createFileNode","fileData","FormData","append","headers","Content","Footer","Login","getUsername","onSubmit","values","setSubmitting","props","signIn","document","title","className","initialValues","email","password","confirmPassword","validationSchema","this","isSubmitting","role","aria-label","style","paddingRight","placeholder","component","disabled","to","Component","Yup","shape","required","min","connect","state","isSignedIn","auth","formValues","localStorage","setItem","displayName","Spinner","height","display","justifyContent","alignItems","backgroundColor","size","Item","MainSider","signOutHandler","toggleSignoutModal","showSignoutModal","setState","body","removeProperty","renderDrawerClasses","animate","visible","mainSider","width","mask","showMask","placement","closable","onClose","e","mode","defaultSelectedKeys","src","avatar","defaultAvatar","icon","verticalAlign","marginTop","objectFit","theme","margin","onClick","centered","onOk","okType","okText","onCancel","components","componentList","Header","Option","IOBar","toggleInputMode","inputMode","modeIcon","nodeTypes","toggleMainSider","commandHandler","input","createNodeHandler","activeNode","selectLocalFile","match","value","URL","_","validUrl","createElement","setAttribute","click","onchange","files","renderSelectBefore","showSearch","showArrow","onChange","createType","queryType","marginRight","onPressEnter","event","maxLength","target","defaultValue","addonBefore","nodes","NodeCardHeaderFull","saveName","updateActiveNode","nodeData","toggleDeleteModal","showDeleteModal","deleteHandler","deleting","deleteNode","toggleExportModal","showExportModal","exportHandler","generateExportByUUID","toggleHidden","hiddenIcon","toggleSearchable","searchableIcon","togglePinned","pinnedState","renderTitle","editable","onBlur","autoFocus","onKeyPress","key","onFocus","select","onDoubleClick","preventDefault","renderContextualButtons","metadata","importing","expanded","mouseEnterDelay","removeSynthonaImportsByPackage","unpackSynthonaImport","renderExportButton","window","location","replace","open","delete","NodeCardHeader","marginLeft","fontSize","textAlign","padding","Text","element","handleClick","handleAssociatonClick","renderNode","Image","renderHeader","onContextMenu","alt","minHeight","Url","renderPreview","color","href","rel","wordBreak","File","Audio","handleLinkClick","Package","Zip","Collection","onCollectionContextMenu","onCollectionClick","previewCount","parse","length","nodeCard","User","toggleHeader","defaultHeader","NodeRenderer","handleNodeClick","linkedNodeUUID","siderNodeUUID","siderUUID","showHeader","NodeCard","renderNodeCard","AssociationLink","handleDeleteAssociation","association","activeNodeUUID","deleteAssociationLink","pathname","includes","removeFromAssociationList","renderAssociationLink","mouseLeaveDelay","deletedUUID","AssociationLinkList","loadMore","renderAssociationLinkList","list","associations","map","renderLoadMoreButton","listLength","totalItems","listStyle","id","associationLinkList","associationLinkListPage","totalLinkListItems","AssociationSider","createAssociationHandler","nodeToAssociate","siderNode","associationSiderData","autocompleteValues","forEach","nodeUUIDToAssociate","createAssociation","autocompleteOptions","inputText","renderAutocompleteValues","associationAutocomplete","newValues","hideInfoSider","renderContent","documentElement","cssText","onSelect","associatedNode","associated","NodeList","infiniteScroll","endReached","isFetching","topOfPage","windowHeight","innerHeight","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","renderNodeList","nodeList","addEventListener","removeEventListener","totalNodes","Home","renderMainSider","scrollTo","top","behavior","Profile","toggleAvatarModal","avatarModal","initializeFromUrlParams","initialized","bio","header","nodeId","marginBottom","draggable","viewBox","d","footer","afterClose","Options","updatePassword","togglePasswordModal","changePassword","handleClearNodes","toggleDeleteNodesModal","clearAllNodes","showPasswordModal","showDeleteNodesModal","passwordModal","oldPassword","newPassword","confirmNewPassword","deleteAllNodesModal","passwordValue","deleteNodesValidation","setAvatar","test","updateUserAvatar","url","setHeader","updateUserHeader","renderDisplayName","saveDisplayName","updateUserInfo","renderBio","saveBio","renderUsername","saveUsername","updateUsername","renderEmail","saveEmail","updateEmail","getSelection","removeAllRanges","regenerateCollectionPreviews","oneOf","updatedUser","imageData","MainContent","children","Activity","AssociationList","currentListLength","renderNodes","associationList","renderList","associationListPage","totalAssociationListItems","CustomClipboard","left","pageXOffset","defaultPrevented","quill","isEnabled","range","retain","index","container","scrollTop","toString","focus","setTimeout","selection","update","Quill","sources","SILENT","concat","convert","updateContents","USER","setSelection","bounds","getBounds","scrollingContainer","import","register","newAssociationList","QuillEditor","ref","componentDidUpdate","querySelectorAll","tool","stopPropagation","textUUID","initializing","text","getItem","readOnly","regeneratePreview","textValue","getEditor","clear","expandHandler","removeItem","exitHandler","getText","substring","processTextNode","selectLocalImage","insertEmbed","isImageUrl","RegExp","matcherImageHandler","image","modules","toolbar","font","indent","background","align","script","handlers","expand","exit","clipboard","matchVisual","matchers","allowedFormats","handleChange","bind","overflow","editor","getContents","fullDelta","editTextNode","isLoading","formats","MainFooter","Collections","CreateAccount","createAccount","paddingLeft","NodeCardFull","AssociationBrowser","regenerateCollectionPreview","collectionNode","i","err","isDeleting","paddingTop","GraphBrowser","fetchGraphData","anchorNode","graphData","renderGraph","renderAssociationSider","associationSider","renderAssociationList","zoomed","transform","g","attr","linkData","innerWidth","simulation","forceSimulation","force","forceLink","forceManyBody","strength","forceX","forceY","forceCenter","initialZoom","zoomIdentity","scale","translate","zoomData","zoom","scaleExtent","on","svg","link","selectAll","join","sqrt","call","drag","x","y","raise","active","alphaTarget","restart","fx","fy","graph","loading","Help","position","PinList","renderPinList","PinHeader","Pins","App","isAuth","isAuthenticated","routes","exact","isFetchingAuth","INITIAL_STATE","action","reload","isSaving","nodesArray","Object","splice","some","item","filter","newNodeList","associationLinkListArray","associationsArray","addBackToList","newTotalLinkListItems","newTotalItems","graphNodeList","graphAssociationList","nodeArray","associationArray","reformated","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","authReducer","nodeReducer","componentReducer","associationReducer","graphReducer","applyMiddleware","reduxThunk","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.1471013b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/help.f2efb220.png\";","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import axios from 'axios';\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\nexport default axios.create({\n  baseURL: 'http://localhost:3077',\n  withCredentials: true,\n  cancelToken: source.token,\n});\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  FETCH_NODES,\n  FETCH_NODES_ERROR,\n  FETCH_NODES_SUCCESS,\n  UPDATE_NODE,\n  UPDATE_NODE_SUCCESS,\n  UPDATE_NODE_ERROR,\n  UPDATE_ACTIVE_NODE,\n  UPDATE_ACTIVE_NODE_ERROR,\n  UPDATE_ACTIVE_NODE_SUCCESS,\n  SEARCH_NODES,\n  SEARCH_NODES_ERROR,\n  SEARCH_NODES_SUCCESS,\n  RESET_APP,\n  CREATE_NODE,\n  CREATE_NODE_SUCCESS,\n  CREATE_NODE_ERROR,\n  MARK_NODE_VIEW,\n  MARK_NODE_VIEW_ERROR,\n  MARK_NODE_VIEW_SUCCESS,\n  SET_ACTIVE_NODE,\n  SET_ACTIVE_NODE_SUCCESS,\n  SET_ACTIVE_NODE_ERROR,\n  DELETE_NODE,\n  DELETE_NODE_ERROR,\n  DELETE_NODE_SUCCESS,\n  CLEAR_ACTIVE_NODE,\n} from './types';\nimport { message } from 'antd';\nimport Delta from 'quill-delta';\n\n// fetch a list of nodes\nexport const fetchNodes = (query) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_NODES });\n    const response = await instance.get('/node/search', {\n      params: {\n        page: query.page,\n        type: query.type,\n        searchQuery: query.searchQuery,\n        pinned: query.pinned,\n      },\n    });\n    dispatch({ type: FETCH_NODES_SUCCESS, payload: response.data, query });\n  } catch (err) {\n    dispatch({ type: FETCH_NODES_ERROR });\n    dispatch({ type: RESET_APP });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n\n// search the database\nexport const searchNodes = (query) => async (dispatch) => {\n  if (query.type === 'all') {\n    query.type = null;\n  }\n  try {\n    dispatch({ type: SEARCH_NODES });\n    const response = await instance.get('/node/search', {\n      params: {\n        page: query.page,\n        type: query.type,\n        searchQuery: query.searchQuery,\n        pinned: query.pinned,\n      },\n    });\n    dispatch({ type: SEARCH_NODES_SUCCESS, payload: response.data, query });\n    history.push('/');\n  } catch (err) {\n    dispatch({ type: SEARCH_NODES_ERROR });\n    dispatch({ type: RESET_APP });\n    message.error('Could not search nodes', 1);\n    history.push('/');\n  }\n};\n\n// edit node handler\nexport const updateNode = (node) => async (dispatch) => {\n  dispatch({ type: UPDATE_NODE });\n  try {\n    const result = await instance.patch('/node', {\n      uuid: node.uuid,\n      hidden: node.hidden,\n      searchable: node.searchable,\n      name: node.name,\n      preview: node.preview,\n    });\n    dispatch({\n      type: UPDATE_NODE_SUCCESS,\n      uuid: node.uuid,\n      result: result.data.node,\n    });\n    // if the node has been hidden remove it from the nodelist\n    if (node.hidden === true) {\n      dispatch({ type: DELETE_NODE_SUCCESS, uuid: node.uuid });\n    }\n  } catch (err) {\n    console.log(err);\n    dispatch({ type: UPDATE_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\n// special handler for updating the active node\nexport const updateActiveNode = (node) => async (dispatch) => {\n  dispatch({ type: UPDATE_ACTIVE_NODE });\n  try {\n    const result = await instance.patch('/node', {\n      uuid: node.uuid,\n      hidden: node.hidden,\n      searchable: node.searchable,\n      name: node.name,\n      preview: node.preview,\n      pinned: node.pinned,\n    });\n    dispatch({\n      type: UPDATE_ACTIVE_NODE_SUCCESS,\n      uuid: node.uuid,\n      result: result.data.node,\n    });\n    // if the node has been hidden remove it from the nodelist\n    if (node.hidden === true) {\n      dispatch({ type: DELETE_NODE_SUCCESS, uuid: node.uuid });\n    }\n  } catch (err) {\n    console.log(err);\n    dispatch({ type: UPDATE_ACTIVE_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\nexport const createNode = (node, file) => async (dispatch) => {\n  dispatch({ type: CREATE_NODE });\n  // set content to empty quill delta for text node\n  if (node.type === 'text') {\n    const delta = new Delta();\n    delta.insert(node.name);\n    node.content = JSON.stringify(delta);\n  }\n  try {\n    const response = await instance.put('/node', {\n      isFile: node.isFile,\n      type: node.type,\n      name: node.name,\n      preview: node.preview,\n      content: node.content,\n      linkedNode: node.linkedNode,\n    });\n    dispatch({\n      type: CREATE_NODE_SUCCESS,\n      payload: response.data.node,\n    });\n    if (response.status === 200 && node.type === 'text') {\n      // if successfully created, redirect the user to the edit node page\n      history.push('/edit/text/' + response.data.node.uuid);\n    }\n  } catch (err) {\n    dispatch({ type: CREATE_NODE_ERROR });\n    message.error('Could not create new item', 1);\n    history.push('/');\n  }\n};\n\nexport const createUrlNode = (node) => async (dispatch) => {\n  console.log('create url node');\n  dispatch({ type: CREATE_NODE });\n  try {\n    const response = await instance.put('/url', {\n      isFile: node.isFile,\n      type: node.type,\n      name: node.name,\n      preview: node.preview,\n      path: node.path,\n      content: node.content,\n      linkedNode: node.linkedNode,\n    });\n    console.log(response.data);\n    dispatch({\n      type: CREATE_NODE_SUCCESS,\n      payload: response.data.node,\n    });\n  } catch (err) {\n    dispatch({ type: CREATE_NODE_ERROR });\n    message.error('Could not create new item', 1);\n    history.push('/');\n  }\n};\n\nexport const markNodeView = (node) => async (dispatch) => {\n  dispatch({ type: MARK_NODE_VIEW });\n  try {\n    await instance.patch('/node/viewed', {\n      uuid: node.uuid,\n    });\n    dispatch({ type: MARK_NODE_VIEW_SUCCESS, node });\n  } catch (err) {\n    dispatch({ type: MARK_NODE_VIEW_ERROR });\n    message.error('Could not mark node view', 1);\n    history.push('/');\n  }\n};\n\n// set active node\nexport const setActiveNode = (uuid) => async (dispatch) => {\n  dispatch({ type: SET_ACTIVE_NODE });\n  try {\n    const response = await instance.get('/node', {\n      params: { uuid },\n    });\n    dispatch({ type: SET_ACTIVE_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    dispatch({ type: SET_ACTIVE_NODE_ERROR });\n    history.push('/');\n    message.error('Could not retrieve values', 1);\n  }\n};\n\nexport const clearActiveNode = () => {\n  return {\n    type: CLEAR_ACTIVE_NODE,\n  };\n};\n\n// delete text node handler\nexport const deleteNode = (uuid) => async (dispatch) => {\n  dispatch({ type: DELETE_NODE });\n  try {\n    const response = await instance.delete(`/node`, { params: { uuid } });\n    if (response.status === 200) {\n      history.push('/');\n      dispatch({ type: DELETE_NODE_SUCCESS, uuid: uuid });\n      message.success('successfully deleted', 1);\n    }\n  } catch (err) {\n    dispatch({ type: DELETE_NODE_ERROR });\n    message.error('There was a problem deleting the node', 1);\n  }\n};\n\n//regenerate collection previews\nexport const regenerateCollectionPreviews = () => async (dispatch) => {\n  try {\n    await instance.patch(`/collection/regenerate`);\n  } catch (err) {\n    message.error('There was a problem regenerating the collection previews', 1);\n  }\n};\n\n// clear all nodes\nexport const clearAllNodes = (formValues) => async (dispatch) => {\n  try {\n    const response = await instance.patch('/user/clear', {\n      password: formValues.passwordValue,\n    });\n    if (response.status === 200) {\n      history.push('/');\n      message.success('successfully deleted all your data :)', 3);\n    }\n  } catch (err) {\n    console.log(err);\n    message.error('There was a problem, please try again', 1);\n  }\n};\n","export const RESET_APP = 'RESET_APP';\n// modal actions\nexport const SHOW_COMPONENT = 'SHOW_COMPONENT';\nexport const HIDE_COMPONENT = 'HIDE_COMPONENT';\n// sign in\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT';\nexport const CREATE_ACCOUNT_SUCCESS = 'CREATE_ACCOUNT_SUCCESS';\nexport const CREATE_ACCOUNT_ERROR = 'CREATE_ACCOUNT_ERROR';\n// sign in\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\nexport const SIGN_IN_ERROR = 'SIGN_IN_ERROR';\n// sign out\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const SIGN_OUT_ERROR = 'SIGN_OUT_ERROR';\n// refresh auth\nexport const REFRESH_AUTH = 'REFRESH_AUTH';\nexport const REFRESH_AUTH_SUCCESS = 'REFRESH_AUTH_SUCCESS';\nexport const REFRESH_AUTH_ERROR = 'REFRESH_AUTH_ERROR';\n// create node\nexport const CREATE_NODE = 'CREATE_NODE';\nexport const CREATE_NODE_SUCCESS = 'CREATE_NODE_SUCCESS';\nexport const CREATE_NODE_ERROR = 'CREATE_NODE_ERROR';\n// fetch nodes\nexport const FETCH_NODES = 'FETCH_NODES';\nexport const FETCH_NODES_SUCCESS = 'FETCH_NODES_SUCCESS';\nexport const FETCH_NODES_ERROR = 'FETCH_NODES_ERROR';\n// search nodes\nexport const SEARCH_NODES = 'SEARCH_NODES';\nexport const SEARCH_NODES_SUCCESS = 'SEARCH_NODES_SUCCESS';\nexport const SEARCH_NODES_ERROR = 'SEARCH_NODES_ERROR';\n// update node\nexport const UPDATE_NODE = 'UPDATE_NODE';\nexport const UPDATE_NODE_SUCCESS = 'UPDATE_NODE_SUCCESS';\nexport const UPDATE_NODE_ERROR = 'UPDATE_NODE_ERROR';\n// update active node\nexport const UPDATE_ACTIVE_NODE = 'UPDATE_ACTIVE_NODE';\nexport const UPDATE_ACTIVE_NODE_ERROR = 'UPDATE_ACTIVE_NODE_ERROR';\nexport const UPDATE_ACTIVE_NODE_SUCCESS = 'UPDATE_ACTIVE_NODE_SUCCESS';\n// mark node view\nexport const MARK_NODE_VIEW = 'MARK_NODE_VIEW';\nexport const MARK_NODE_VIEW_SUCCESS = 'MARK_NODE_VIEW_SUCCESS';\nexport const MARK_NODE_VIEW_ERROR = 'MARK_NODE_VIEW_ERROR';\n// edit text node\nexport const EDIT_TEXT_NODE = 'EDIT_TEXT_NODE';\nexport const EDIT_TEXT_NODE_SUCCESS = 'EDIT_TEXT_NODE_SUCCESS';\nexport const EDIT_TEXT_NODE_ERROR = 'EDIT_TEXT_NODE_ERROR';\n// process text node\nexport const PROCESS_TEXT_NODE = 'PROCESS_TEXT_NODE';\nexport const PROCESS_TEXT_NODE_SUCCESS = 'PROCESS_TEXT_NODE_SUCCESS';\nexport const PROCESS_TEXT_NODE_ERROR = 'PROCESS_TEXT_NODE_ERROR';\n// create image node\nexport const CREATE_FILE_NODE = 'CREATE_FILE_NODE';\nexport const CREATE_FILE_NODE_SUCCESS = ' CREATE_FILE_NODE_SUCCESS';\nexport const CREATE_FILE_NODE_ERROR = 'CREATE_FILE_NODE_ERROR';\n// fetch user node\nexport const FETCH_USER_NODE = 'FETCH_USER_NODE';\nexport const FETCH_USER_NODE_SUCCESS = 'FETCH_USER_NODE_SUCCESS';\nexport const FETCH_USER_NODE_ERROR = 'FETCH_USER_NODE_ERROR';\n// update user node\nexport const UPDATE_USER_NODE = 'UPDATE_USER_NODE';\nexport const UPDATE_USER_NODE_SUCCESS = 'UPDATE_USER_NODE_SUCCESS';\nexport const UPDATE_USER_NODE_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user avatar\nexport const UPDATE_USER_AVATAR = 'UPDATE_USER_AVATAR';\nexport const UPDATE_USER_AVATAR_SUCCESS = 'UPDATE_USER_AVATAR_SUCCESS';\nexport const UPDATE_USER_AVATAR_ERROR = 'UPDATE_USER_NODE_ERROR';\n// update user header image\nexport const UPDATE_USER_HEADER = 'UPDATE_USER_HEADER';\nexport const UPDATE_USER_HEADER_SUCCESS = 'UPDATE_USER_HEADER_SUCCESS';\nexport const UPDATE_USER_HEADER_ERROR = 'UPDATE_USER_HEADER_ERROR';\n// create associations\nexport const CREATE_ASSOCIATION = 'CREATE_ASSOCIATION';\nexport const CREATE_ASSOCIATION_SUCCESS = 'CREATE_ASSOCIATION_SUCCESS';\nexport const CREATE_ASSOCIATION_ERROR = 'CREATE_ASSOCIATION_ERROR';\n// fetch associations\nexport const FETCH_ASSOCIATIONS = 'FETCH_ASSOCIATIONS';\nexport const FETCH_ASSOCIATIONS_SUCCESS = 'FETCH_ASSOCIATIONS_SUCCESS';\nexport const FETCH_ASSOCIATIONS_ERROR = 'FETCH_ASSOCIATIONS_ERROR';\n// reset association list\nexport const RESET_ASSOCIATIONS = 'RESET_ASSOCIATIONS';\n// fetch association link list\nexport const FETCH_ASSOCIATION_LINK_LIST = 'FETCH_ASSOCIATIONS_LINK_LIST';\nexport const FETCH_ASSOCIATION_LINK_LIST_SUCCESS = 'FETCH_ASSOCIATIONS_LINK_LIST_SUCCESS';\nexport const FETCH_ASSOCIATION_LINK_LIST_ERROR = 'FETCH_ASSOCIATIONS_LINK_LIST_ERROR';\n// reset association link list\nexport const RESET_ASSOCIATION_LINK_LIST = 'RESET_ASSOCIATION_LINK_LIST';\n// set active node\nexport const SET_ACTIVE_NODE = 'SET_ACTIVE_NODE';\nexport const SET_ACTIVE_NODE_SUCCESS = 'SET_ACTIVE_NODE_SUCCESS';\nexport const SET_ACTIVE_NODE_ERROR = 'SET_ACTIVE_NODE_ERROR';\n// clear active node\nexport const CLEAR_ACTIVE_NODE = 'CLEAR_ACTIVE_NODE';\n// delete node\nexport const DELETE_NODE = 'DELETE_NODE';\nexport const DELETE_NODE_SUCCESS = 'DELETE_NODE_SUCCESS';\nexport const DELETE_NODE_ERROR = 'DELETE_NODE_ERROR';\n// remove from association list\nexport const REMOVE_FROM_ASSOCIATION_LIST = 'REMOVE_FROM_ASSOCIATION_LIST';\n// delete association link\nexport const DELETE_ASSOCIATION_LINK = 'DELETE_ASSOCIATION_LINK';\nexport const DELETE_ASSOCIATION_LINK_SUCCESS = 'DELETE_ASSOCIATION_LINK_SUCCESS';\nexport const DELETE_ASSOCIATION_LINK_ERROR = 'DELETE_ASSOCIATION_LINK_ERROR';\n// generate instance export\nexport const GENERATE_EXPORT = 'GENERATE_EXPORT';\nexport const GENERATE_EXPORT_ERROR = 'GENERATE_EXPORT_ERROR';\nexport const GENERATE_EXPORT_SUCCESS = 'GENERATE_EXPORT_SUCCESS';\n// fetch graph nodes\nexport const FETCH_GRAPH_DATA = 'FETCH_GRAPH_DATA';\nexport const FETCH_GRAPH_DATA_ERROR = 'FETCH_GRAPH_DATA_ERROR';\nexport const FETCH_GRAPH_DATA_SUCCESS = 'FETCH_GRAPH_DATA_SUCCESS';\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  RESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// Create Account Action handler\nexport const createAccount = (formValues) => async (dispatch) => {\n  dispatch({ type: CREATE_ACCOUNT });\n  try {\n    const response = await instance.put('/auth/signup', formValues);\n    localStorage.setItem('displayName', response.data.displayName);\n    dispatch({ type: CREATE_ACCOUNT_SUCCESS, payload: response.data });\n    history.push('/');\n  } catch (err) {\n    dispatch({ type: CREATE_ACCOUNT_ERROR });\n    message.error('There was a problem creating the account', 1);\n    history.push('/');\n  }\n};\n\n// Sign In Action handler\nexport const signIn = (formValues) => async (dispatch) => {\n  dispatch({ type: SIGN_IN });\n  try {\n    const response = await instance.put('/auth/login', formValues);\n    localStorage.setItem('displayName', response.data.displayName);\n    dispatch({ type: SIGN_IN_SUCCESS, payload: response.data });\n  } catch (err) {\n    dispatch({ type: SIGN_IN_ERROR });\n    message.error('There was a problem signing in', 1);\n    history.push('/');\n  }\n};\n\n// Sign Out Action Handler\nexport const signOut = () => async (dispatch) => {\n  dispatch({ type: SIGN_OUT });\n  try {\n    await instance.get('/auth/signout');\n    dispatch({ type: RESET_APP });\n    message.success('Signed Out', 1);\n    // send page redirect for the user\n    history.push('/');\n  } catch (err) {\n    dispatch({ type: SIGN_OUT_ERROR });\n    message.error('There was a problem signing out', 1);\n  }\n};\n\nexport const changePassword = (formValues) => async (dispatch) => {\n  try {\n    const response = await instance.patch('/auth/password', {\n      oldPassword: formValues.oldPassword,\n      newPassword: formValues.newPassword,\n    });\n    if (response.status === 200) {\n      message.success('changed password', 1);\n    }\n  } catch (err) {\n    message.error('Could not update password', 1);\n  }\n};\n\nexport const isAuthenticated = () => async (dispatch) => {\n  try {\n    dispatch({ type: REFRESH_AUTH });\n    const response = await instance.get('/auth');\n    dispatch({ type: REFRESH_AUTH_SUCCESS, payload: response.data });\n  } catch (err) {\n    dispatch({ type: REFRESH_AUTH_ERROR });\n    // send page redirect for the user\n    history.push('/');\n  }\n};\n","import instance from '../../../api/instance';\n// import history from '../history';\nimport {\n  FETCH_USER_NODE,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// get user by username handler\nexport const fetchUserByUsername = (username) => async (dispatch) => {\n  dispatch({ type: FETCH_USER_NODE });\n  try {\n    const response = await instance.get('/user/username', { params: { username } });\n    const user = response.data.user;\n    return user;\n    // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n    // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n  } catch (err) {\n    // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n    message.error('Could not fetch user', 1);\n    // history.push('/');\n  }\n};\n\n// get user by username handler\n// export const fetchUserByEmail = email => async dispatch => {\n//   dispatch({ type: FETCH_USER_NODE });\n//   try {\n//     const response = await instance.get('/user/username', { params: { email } });\n//     const user = response.data.user;\n//     return user;\n//     // TODO: once i add users a node type on the homepage, is when i should be adding this reducer\n//     // dispatch({ type: FETCH_TEXT_NODE_SUCCESS, payload: response.data });\n//   } catch (err) {\n//     // dispatch({ type: FETCH_TEXT_NODE_ERROR });\n//     message.error('Could not fetch user', 1);\n//     // history.push('/');\n//   }\n// };\n\n// update user by username\nexport const updateUserInfo = (user) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/info', {\n      username: user.username,\n      bio: user.bio,\n      displayName: user.displayName,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update username\nexport const updateUsername = (username) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/username', {\n      username: username,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user by username\nexport const updateEmail = (email) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_NODE });\n  try {\n    const response = await instance.patch('/user/email', {\n      email: email,\n    });\n    const updatedUser = response.data.user;\n    dispatch({ type: UPDATE_USER_NODE_SUCCESS, user: updatedUser });\n    return updatedUser;\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_NODE_ERROR });\n    message.error('Could not update user', 1);\n  }\n};\n\n// update user avatar\nexport const updateUserAvatar = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_AVATAR });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/avatar', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_AVATAR_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_AVATAR_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n\nexport const updateUserHeader = (file) => async (dispatch) => {\n  dispatch({ type: UPDATE_USER_HEADER });\n  try {\n    // create image FormData\n    const imageData = new FormData();\n    imageData.append('image', file);\n    // send the request\n    const response = await instance.patch('/user/header', imageData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: UPDATE_USER_HEADER_SUCCESS, url: response.data.url });\n      // return the image URL for immediate use\n      return response.data.url;\n    } else {\n      message.error('There was a problem uploading the image', 1);\n    }\n  } catch (err) {\n    dispatch({ type: UPDATE_USER_HEADER_ERROR });\n    message.error('There was a problem uploading the image', 1);\n  }\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  CREATE_ASSOCIATION,\n  CREATE_ASSOCIATION_ERROR,\n  CREATE_ASSOCIATION_SUCCESS,\n  FETCH_ASSOCIATION_LINK_LIST,\n  FETCH_ASSOCIATION_LINK_LIST_ERROR,\n  FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n  RESET_ASSOCIATION_LINK_LIST,\n  FETCH_ASSOCIATIONS,\n  FETCH_ASSOCIATIONS_ERROR,\n  FETCH_ASSOCIATIONS_SUCCESS,\n  RESET_ASSOCIATIONS,\n  REMOVE_FROM_ASSOCIATION_LIST,\n  DELETE_ASSOCIATION_LINK,\n  DELETE_ASSOCIATION_LINK_SUCCESS,\n  DELETE_ASSOCIATION_LINK_ERROR,\n  // RESET_APP\n} from './types';\nimport { message } from 'antd';\n\n// fetch associations for associationLinklist\nexport const fetchAssociationLinkList = (query) => async (dispatch) => {\n  try {\n    if (!query.page) {\n      dispatch({ type: RESET_ASSOCIATION_LINK_LIST });\n      query.page = 1;\n    }\n    dispatch({ type: FETCH_ASSOCIATION_LINK_LIST });\n    const response = await instance.get('/association', {\n      params: { nodeUUID: query.nodeUUID, page: query.page },\n    });\n    dispatch({\n      type: FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n      payload: response.data,\n      nodeUUID: query.nodeUUID,\n      page: query.page,\n    });\n  } catch (err) {\n    dispatch({ type: FETCH_ASSOCIATION_LINK_LIST_ERROR });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n\n// fetch associations for associationList\nexport const fetchAssociations = (query) => async (dispatch) => {\n  try {\n    if (!query.page) {\n      dispatch({ type: RESET_ASSOCIATIONS });\n      query.page = 1;\n    }\n    dispatch({ type: FETCH_ASSOCIATIONS });\n    const response = await instance.get('/association', {\n      params: { nodeUUID: query.nodeUUID, page: query.page },\n    });\n    dispatch({\n      type: FETCH_ASSOCIATIONS_SUCCESS,\n      payload: response.data,\n      nodeUUID: query.nodeUUID,\n      page: query.page,\n    });\n  } catch (err) {\n    dispatch({ type: FETCH_ASSOCIATIONS_ERROR });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n\n// create a new association\nexport const createAssociation = (nodeUUID, linkedNodeUUID) => async (dispatch) => {\n  try {\n    dispatch({ type: CREATE_ASSOCIATION });\n    const response = await instance.put('/association', {\n      nodeUUID,\n      linkedNodeUUID,\n    });\n    dispatch({\n      type: CREATE_ASSOCIATION_SUCCESS,\n      associatedNode: response.data.association.associated,\n      nodeUUID,\n    });\n  } catch (err) {\n    dispatch({ type: CREATE_ASSOCIATION_ERROR });\n    message.error('Could not create association', 1);\n    history.push('/');\n  }\n};\n\n// get autocomplete values for association creation\nexport const associationAutocomplete = (query) => async (dispatch) => {\n  try {\n    const response = await instance.get('/association/autocomplete', {\n      params: { searchQuery: query.searchQuery, nodeUUID: query.uuid },\n    });\n    return response.data.nodes;\n  } catch (err) {\n    message.error('Could not search nodes', 1);\n    history.push('/');\n  }\n};\n\n// delete text node handler\nexport const deleteAssociationLink = (nodeA, nodeB) => async (dispatch) => {\n  dispatch({ type: DELETE_ASSOCIATION_LINK });\n  try {\n    const response = await instance.delete(`/association`, { params: { nodeA, nodeB } });\n    if (response.status === 200) {\n      dispatch({ type: DELETE_ASSOCIATION_LINK_SUCCESS, deletedUUID: response.data.deletedUUID });\n    }\n  } catch (err) {\n    dispatch({ type: DELETE_ASSOCIATION_LINK_ERROR });\n    message.error('There was a problem deleting the node', 1);\n  }\n};\n\n// remove from association list\nexport const removeFromAssociationList = (uuid) => {\n  return {\n    type: REMOVE_FROM_ASSOCIATION_LIST,\n    deletedUUID: uuid,\n  };\n};\n\n// update the linkStrength for an association\nexport const updateLinkStrength = (nodeA, nodeB) => async (dispatch) => {\n  try {\n    await instance.put('/association/linkstrength', {\n      nodeA,\n      nodeB,\n    });\n  } catch (err) {\n    message.error('There was a problem with your request', 1);\n  }\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT } from './types';\n\nexport const showComponent = (type, content) => {\n  return {\n    type: SHOW_COMPONENT,\n    payload: {\n      type: type,\n      content: content,\n    },\n  };\n};\n\nexport const hideComponent = (type) => {\n  return {\n    type: HIDE_COMPONENT,\n    payload: {\n      type: type,\n    },\n  };\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport { GENERATE_EXPORT, GENERATE_EXPORT_ERROR, GENERATE_EXPORT_SUCCESS } from './types';\nimport { message } from 'antd';\n\n// export the instance data and get the url of the file\nexport const generateInstanceExport = () => async (dispatch) => {\n  try {\n    dispatch({ type: GENERATE_EXPORT });\n    const response = await instance.put('/port/export/all');\n    if (response.status === 200) {\n      message.success('generating export!', 2);\n      dispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n      // redirect\n      history.push('/');\n    }\n  } catch (err) {\n    dispatch({ type: GENERATE_EXPORT_ERROR });\n    message.error('Could not export instance data', 1);\n    history.push('/');\n  }\n};\n\n// generate export based on a node\nexport const generateExportByUUID = (uuid) => async (dispatch) => {\n  try {\n    dispatch({ type: GENERATE_EXPORT });\n    const response = await instance.put('/port/export/', { uuid });\n    if (response.status === 200) {\n      message.success('generating export!', 2);\n      dispatch({ type: GENERATE_EXPORT_SUCCESS, payload: response.data });\n      // redirect\n      history.push('/');\n    }\n  } catch (err) {\n    dispatch({ type: GENERATE_EXPORT_ERROR });\n    message.error('Could not export instance data', 1);\n    history.push('/');\n  }\n};\n\n// export the instance data and get the url of the file\nexport const unpackSynthonaImport = (uuid) => async (dispatch) => {\n  try {\n    const response = await instance.put('/port/import/', { uuid });\n    if (response.status === 200) {\n      message.success('started import process!', 3);\n      history.push('/');\n    }\n  } catch (err) {\n    message.error('Could not import instance data', 1);\n    history.push('/');\n  }\n};\n\nexport const removeSynthonaImportsByPackage = (uuid) => async (dispatch) => {\n  message.success('removing imports...', 1);\n  try {\n    const response = await instance.patch('/port/export/undo/', { uuid });\n    if (response.status === 200) {\n      history.push('/');\n    }\n  } catch (err) {\n    message.error('Could not remove imports for this package', 1);\n    history.push('/');\n  }\n};\n","import instance from '../../instance';\nimport { CREATE_FILE_NODE, CREATE_FILE_NODE_SUCCESS, CREATE_FILE_NODE_ERROR } from './types';\nimport { message } from 'antd';\n\nexport const createFileNode = (file, name, linkedNode) => async (dispatch) => {\n  dispatch({ type: CREATE_FILE_NODE });\n  try {\n    // create image FormData\n    const fileData = new FormData();\n    fileData.append('image', file);\n    if (name) {\n      fileData.append('name', name);\n    }\n    if (linkedNode) {\n      fileData.append('linkedNode', linkedNode);\n    }\n    // send the request\n    const response = await instance.put('/file', fileData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n    // if it's sucessful dispatch the success action\n    if (response.status === 200) {\n      dispatch({ type: CREATE_FILE_NODE_SUCCESS, payload: response.data.node });\n      // return the image URL for immediate use\n      return response.data.node.preview;\n    } else {\n      message.error('There was a problem inserting the file', 1);\n    }\n  } catch (err) {\n    dispatch({ type: CREATE_FILE_NODE_ERROR });\n    message.error('There was a problem inserting the file', 1);\n  }\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { signIn } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass Login extends Component {\n  componentDidMount() {\n    document.title = 'synthona';\n  }\n\n  getUsername = () => {\n    // const username = localStorage.getItem('displayName');\n    // if (username) {\n    //   return username;\n    // } else {\n    //   return 'synthona';\n    // }\n    return 'synthona';\n  };\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.signIn(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {' '}\n                      \n                    </span>\n                    synthona\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      {'  '}\n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' className='login-error' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' className='login-error' />\n                  <ErrorMessage name='confirmPassword' component='div' className='login-error' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    login\n                  </button>\n                  <Link to='/create-account' className='login-signup'>\n                    create user\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().required().email('E-mail is not valid!'),\n  password: Yup.string().required().min(5, 'Password has to be longer than 6 characters!'),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { signIn })(Login);\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Spin } from 'antd';\n\nconst Spinner = (props) => {\n  return (\n    <Layout>\n      <Spin\n        style={{\n          height: '100vh',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: '#272727',\n        }}\n        size='large'\n      ></Spin>\n    </Layout>\n  );\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Menu, Avatar, Modal, Drawer, Icon } from 'antd';\nimport {\n  signOut,\n  hideComponent,\n  generateInstanceExport,\n  clearActiveNode,\n} from '../../api/redux/actions';\n// images\nimport defaultAvatar from '../../resources/synthona-logo.png';\n// custom code\nimport './css/MainSider.less';\nimport Spinner from './Spinner';\n// destructure antd components\nconst { Item } = Menu;\n\nclass MainSider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSignoutModal: null,\n      visible: false,\n    };\n  }\n\n  signOutHandler = () => {\n    this.props.signOut();\n  };\n\n  // show modal to confirm deletion\n  toggleSignoutModal = () => {\n    if (this.state.showSignoutModal) {\n      this.setState({ showSignoutModal: false });\n      // temporary fix to remove overflow property being set on body by antd\n      document.body.style.removeProperty('overflow');\n    } else {\n      this.setState({ showSignoutModal: true });\n    }\n  };\n\n  renderDrawerClasses = () => {\n    if (this.props.animate === false) {\n      return 'page-sider no-animation';\n    } else {\n      return 'page-sider';\n    }\n  };\n\n  render() {\n    if (this.props.mainSider === null) {\n      return <Spinner></Spinner>;\n    }\n\n    return (\n      <div className='sider-container'>\n        <Drawer\n          className={this.renderDrawerClasses()}\n          width='200px'\n          mask={this.props.showMask}\n          placement='left'\n          closable={false}\n          onClose={(e) => this.props.hideComponent('mainSider')}\n          visible={this.props.mainSider ? this.props.mainSider.visible : false}\n        >\n          <Menu mode='vertical' defaultSelectedKeys={['1']} className='sider-menu'>\n            <Item>\n              <Link to={`/profile/${this.props.user.username}`}>\n                <Avatar\n                  className='nav-avatar'\n                  src={this.props.user.avatar || defaultAvatar}\n                  icon='user'\n                  style={{\n                    display: 'inline-block',\n                    verticalAlign: 'middle',\n                    marginTop: '0.8rem',\n                    width: '2.5rem',\n                    height: '2.5rem',\n                    // border: '0.1rem solid #272727',\n                    objectFit: 'contain',\n                  }}\n                />\n              </Link>\n            </Item>\n            <Item className='sider-menu-item sider-title'>\n              <Link to={`/profile/${this.props.user.username}`}>\n                {/*  <b>@{this.props.user.username}</b>*/}\n                <Icon type={'smile'} theme='outlined' style={{ margin: '0' }} /> <b>Profile</b>\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to={`/`} onClick={(e) => this.props.hideComponent('mainSider')}>\n                Explore\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to={`/pins`} onClick={(e) => this.props.hideComponent('mainSider')}>\n                Pinboard\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link\n                to={`/graph`}\n                onClick={(e) => {\n                  this.props.clearActiveNode();\n                  this.props.hideComponent('mainSider');\n                }}\n              >\n                Constellation\n              </Link>\n            </Item>\n            {/*<Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Nodes\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Map\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Chat\n              </Link>\n                </Item>  */}\n            <Item className='sider-menu-item'>\n              <Link to={`/edit/profile/`}>Options</Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='/help' onClick={(e) => this.props.hideComponent('mainSider')}>\n                Help\n              </Link>\n            </Item>\n            <Item className='sider-menu-item'>\n              <Link to='#' onClick={this.toggleSignoutModal}>\n                Sign Out\n              </Link>\n            </Item>\n          </Menu>\n        </Drawer>\n        {/* </Sider> */}\n        <Modal\n          title={this.props.user.displayName}\n          visible={this.state.showSignoutModal}\n          className='signout-modal'\n          centered\n          onOk={this.signOutHandler}\n          okType='primary'\n          okText='Sign Out'\n          closable={false}\n          onCancel={this.toggleSignoutModal}\n        >\n          <p>Are you sure you want to sign out?</p>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { user: state.auth.user, mainSider: state.components.componentList['mainSider'] };\n};\n\nexport default connect(mapStateToProps, {\n  signOut,\n  hideComponent,\n  generateInstanceExport,\n  clearActiveNode,\n})(MainSider);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../utils/history';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Input, Select, Icon, message } from 'antd';\n// custom code\nimport { validUrl, isImageUrl } from '../../utils/inputValidation';\nimport './css/IOBar.less';\nimport {\n  signOut,\n  createFileNode,\n  createUrlNode,\n  createNode,\n  searchNodes,\n  showComponent,\n  hideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass IOBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: this.props.query.searchQuery || '',\n      nodeTypes: this.props.query.type || 'all',\n      createType: null,\n      queryType: null,\n      inputMode: 'query',\n      modeIcon: 'search',\n      placeholder: 'query',\n    };\n  }\n  // show modal to confirm deletion\n  toggleInputMode = () => {\n    if (this.state.inputMode === 'query') {\n      this.setState({\n        inputMode: 'create',\n        modeIcon: 'plus',\n        placeholder: 'create',\n        nodeTypes: 'text',\n      });\n    } else {\n      this.setState({\n        inputMode: 'query',\n        modeIcon: 'search',\n        placeholder: 'query',\n        nodeTypes: 'all',\n      });\n    }\n  };\n\n  toggleMainSider = async () => {\n    // await this.props.showComponent('mainSider');\n    if (this.props.mainSider) {\n      this.props.hideComponent('mainSider');\n    } else {\n      this.props.showComponent('mainSider');\n    }\n  };\n\n  // handle text input\n  commandHandler = () => {\n    switch (this.state.inputMode) {\n      case 'query':\n        return this.props.searchNodes({\n          searchQuery: this.state.input,\n          type: this.state.nodeTypes,\n        });\n      case 'create':\n        return this.createNodeHandler();\n      default:\n        return;\n    }\n  };\n  // handle the creation of different node types\n  createNodeHandler = () => {\n    var linkedNode;\n    if (this.props.activeNode) {\n      linkedNode = JSON.stringify(this.props.activeNode);\n    }\n    switch (this.state.nodeTypes) {\n      case 'text':\n        this.props.createNode({\n          isFile: false,\n          type: 'text',\n          name: this.state.input,\n          preview: '',\n          linkedNode,\n        });\n        // clear the input bar\n        this.setState({ input: '' });\n        // redirect\n        history.push('/');\n        break;\n      // case 'image':\n      //   this.selectLocalImage(linkedNode);\n      //   break;\n      case 'file':\n        this.selectLocalFile(linkedNode);\n        break;\n      case 'url':\n        // if the URL is an image add an image node\n        if (isImageUrl(this.state.input)) {\n          this.props.createNode({\n            isFile: false,\n            type: 'image',\n            name: this.state.input,\n            preview: this.state.input,\n            content: this.state.input,\n            linkedNode,\n          });\n          this.setState({ input: '' });\n          // otherwise add a regular URL\n        } else if (validUrl(this.state.input)) {\n          this.props.createUrlNode({\n            isFile: false,\n            type: 'url',\n            name: this.state.input,\n            preview: this.state.input,\n            path: this.state.input,\n            content: this.state.input,\n            linkedNode,\n          });\n          // clear the input bar\n          this.setState({ input: '' });\n        } else {\n          message.error('You must enter a valid URL', 1);\n        }\n        // redirect\n        history.push('/');\n        break;\n      case 'collection':\n        this.props.createNode({\n          isFile: false,\n          type: 'collection',\n          name: this.state.input,\n          preview: '',\n          content: this.state.input,\n          linkedNode,\n        });\n        // clear the input bar\n        this.setState({ input: '' });\n        // redirect\n        history.push('/');\n        break;\n      default:\n        return;\n    }\n  };\n\n  // select an image.\n  selectLocalFile = (linkedNode) => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.click();\n    // Listen for uploading local file, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n      await this.props.createFileNode(file, this.state.input, linkedNode);\n      // clear the input bar\n      this.setState({ input: '' });\n      history.push('/');\n    };\n  };\n\n  // include an \"all\" option for queries\n  renderSelectBefore = () => {\n    if (this.state.inputMode === 'query') {\n      return (\n        <Select\n          showSearch\n          showArrow={false}\n          value={this.state.nodeTypes}\n          onChange={(value) => this.setState({ nodeTypes: value })}\n        >\n          <Option value='all'>all</Option>\n          <Option value='url'>urls</Option>\n          <Option value='text'>text</Option>\n          <Option value='file'>file</Option>\n          <Option value='image'>images</Option>\n          <Option value='collection'>collections</Option>\n        </Select>\n      );\n    } else {\n      // exclude \"all\" option for creating nodes\n      return (\n        <Select\n          showSearch\n          showArrow={false}\n          value={this.state.nodeTypes}\n          onChange={(value) => this.setState({ nodeTypes: value })}\n        >\n          <Option value='text'>text</Option>\n          <Option value='url'>url</Option>\n          <Option value='file'>file</Option>\n          <Option value='collection'>collection</Option>\n        </Select>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Header className='page-header'>\n          <ul className='nav-list'>\n            <li className='nav-item io-sider-button' style={{ marginRight: '0' }}>\n              <Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n                <Icon type={'bars'} theme='outlined' />\n              </Button>\n            </li>\n            <li className='nav-item io-sider-button' style={{ marginRight: '0.4rem' }}>\n              <Link type='default' to={`/graph`}>\n                <Icon type={'deployment-unit'} theme='outlined' />\n              </Link>\n            </li>\n            <li className='nav-item io-sider-button' style={{ marginRight: '0.5rem' }}>\n              <Link type='default' to={`/`}>\n                <Icon type={'home'} theme='outlined' />\n              </Link>\n            </li>\n            <li className='nav-item io-sider-button' style={{ marginRight: '0.1rem' }}>\n              <Link type='default' to={`/pins`} style={{ marginRight: '0.3rem' }}>\n                <Icon type={'pushpin'} theme='outlined' />\n              </Link>\n            </li>\n            <li className='nav-item create-node-button'>\n              <Button type='default' shape='circle' onClick={(e) => this.toggleInputMode()}>\n                <Icon type={this.state.modeIcon} theme='outlined' />\n              </Button>\n            </li>\n            <li className='nav-search'>\n              <Input\n                onPressEnter={(value, event) => this.commandHandler()}\n                maxLength={500}\n                value={this.state.input}\n                onChange={(e) => this.setState({ input: e.target.value })}\n                defaultValue={this.props.query.searchQuery || ''}\n                placeholder={this.state.placeholder}\n                addonBefore={this.renderSelectBefore()}\n                className='nav-search-input'\n              />\n            </li>\n          </ul>\n        </Header>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.auth.user,\n    query: state.nodes.query,\n    mainSider: state.components.componentList['mainSider'],\n    activeNode: state.nodes.activeNode,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signOut,\n  searchNodes,\n  createNode,\n  createFileNode,\n  createUrlNode,\n  showComponent,\n  hideComponent,\n})(IOBar);\n","export const validUrl = (value) => {\n  try {\n    new URL(value);\n  } catch (_) {\n    return false;\n  }\n  return true;\n};\n\nexport const isImageUrl = (url) => {\n  return url.match(/\\..+(jpeg|jpg|gif|png)/) != null;\n};\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// import { Link } from 'react-router-dom';\nimport { Icon, Modal, Tooltip } from 'antd';\nimport {\n  showComponent,\n  unpackSynthonaImport,\n  updateActiveNode,\n  deleteNode,\n  clearActiveNode,\n  generateExportByUUID,\n  removeSynthonaImportsByPackage,\n} from '../../../api/redux/actions';\n\nclass NodeCardHeaderFull extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.nodeData.name,\n      hidden: this.props.nodeData.hidden,\n      hiddenIcon: 'eye-invisible',\n      searchable: this.props.nodeData.searchable,\n      searchableIcon: 'search',\n      pinned: this.props.nodeData.pinned,\n      pinnedState: 'outlined',\n      editable: false,\n      showDeleteModal: null,\n      showExportModal: null,\n    };\n  }\n\n  componentDidMount() {\n    // set initial hiddens state\n    if (this.props.nodeData.hidden) {\n      this.setState({ hiddenIcon: 'eye-invisible' });\n    } else {\n      this.setState({ hiddenIcon: 'eye' });\n    }\n    // set initial searchable state\n    if (this.props.nodeData.searchable) {\n      this.setState({ searchableIcon: 'search' });\n    } else {\n      this.setState({ searchableIcon: 'key' });\n    }\n    // set initial pinned state\n    if (this.props.nodeData.pinned) {\n      this.setState({ pinnedState: 'filled' });\n    } else {\n      this.setState({ pinnedState: 'outlined' });\n    }\n  }\n\n  // update and save the document name\n  saveName = (name) => {\n    if (this.state.name !== name) {\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, name });\n    }\n    this.setState({ name: name });\n  };\n\n  // show modal to confirm deletion\n  toggleDeleteModal = () => {\n    if (this.state.showDeleteModal) {\n      this.setState({ showDeleteModal: false });\n    } else {\n      this.setState({ showDeleteModal: true });\n    }\n  };\n\n  // delete the node\n  deleteHandler = async () => {\n    this.setState({ showDeleteModal: false });\n    this.setState({ deleting: true });\n    await this.props.deleteNode(this.props.nodeData.uuid);\n    this.props.clearActiveNode();\n  };\n\n  // show confirm export modal\n  toggleExportModal = () => {\n    if (this.state.showExportModal) {\n      this.setState({ showExportModal: false });\n    } else {\n      this.setState({ showExportModal: true });\n    }\n  };\n\n  // delete the node\n  exportHandler = async () => {\n    this.setState({ showExportModal: false });\n    await this.props.generateExportByUUID(this.props.nodeData.uuid);\n  };\n\n  toggleHidden = () => {\n    if (this.state.hidden === true) {\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, hidden: false });\n      this.setState({ hidden: false, hiddenIcon: 'eye' });\n    } else {\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, hidden: true });\n      this.setState({ hidden: true, hiddenIcon: 'eye-invisible' });\n    }\n  };\n\n  toggleSearchable = () => {\n    if (this.state.searchable === true) {\n      this.setState({ searchable: false, searchableIcon: 'key' });\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, searchable: false });\n    } else {\n      this.setState({ searchable: true, searchableIcon: 'search' });\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, searchable: true });\n    }\n  };\n\n  togglePinned = () => {\n    if (this.state.pinned === true) {\n      this.setState({ pinned: false, pinnedState: 'outlined' });\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: false });\n    } else {\n      this.setState({ pinned: true, pinnedState: 'filled' });\n      this.props.updateActiveNode({ uuid: this.props.nodeData.uuid, pinned: true });\n    }\n  };\n\n  // render the title\n  renderTitle = () => {\n    if (!this.state.editable) {\n      // if it is not editable render the plain title\n      return (\n        <h3\n          className='full-card-title'\n          onDoubleClick={(e) => {\n            e.preventDefault();\n            this.setState({ editable: true });\n          }}\n        >\n          {this.state.name}\n        </h3>\n      );\n    } else {\n      // when title is double clicked render the input field\n      return (\n        <input\n          type='text'\n          className='full-card-title'\n          onBlur={() => this.setState({ editable: null })}\n          maxLength='250'\n          autoFocus\n          placeholder='name'\n          value={this.state.name}\n          onKeyPress={(e) => {\n            // remove input on enter\n            if (e.key === 'Enter') {\n              this.setState({ editable: null });\n            }\n          }}\n          onChange={(e) => {\n            this.saveName(e.target.value);\n          }}\n          onFocus={(e) => {\n            e.target.select();\n          }}\n        ></input>\n      );\n    }\n  };\n\n  // render header buttons for node types which need them\n  // at the moment it's just .synth packages\n  renderContextualButtons = () => {\n    switch (this.props.nodeData.type) {\n      case 'package':\n        if (this.props.nodeData.metadata && this.props.nodeData.metadata.importing) {\n          return <Fragment></Fragment>;\n        } else if (this.props.nodeData.metadata && this.props.nodeData.metadata.expanded) {\n          return (\n            <Tooltip title={'undo import'} mouseEnterDelay={1.1}>\n              <li>\n                <button\n                  onClick={(e) => {\n                    // show the modal\n                    this.props.removeSynthonaImportsByPackage(this.props.nodeData.uuid);\n                  }}\n                >\n                  <Icon type={'undo'} theme='outlined' className='full-card-button' />\n                </button>\n              </li>\n            </Tooltip>\n          );\n        } else {\n          return (\n            <Tooltip title={'unpack'} mouseEnterDelay={1.1}>\n              <li>\n                <button\n                  onClick={(e) => {\n                    // show the modal\n                    this.props.unpackSynthonaImport(this.props.nodeData.uuid);\n                  }}\n                >\n                  <Icon type={'gift'} theme='filled' className='full-card-button' />\n                </button>\n              </li>\n            </Tooltip>\n          );\n        }\n      default:\n        return;\n    }\n  };\n\n  // render the export button on non-package nodes\n  renderExportButton = () => {\n    if (this.props.nodeData.type !== 'package') {\n      return (\n        <Tooltip title={'generate export'} mouseEnterDelay={1.1}>\n          <li>\n            <button\n              onClick={(e) => {\n                this.toggleExportModal();\n              }}\n            >\n              <Icon type={'gift'} theme='outlined' className='full-card-button' />\n            </button>\n          </li>\n        </Tooltip>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div className='full-card-options'>\n        {this.renderTitle()}\n        {/* <p className='full-card-options-date'>{this.props.nodeData.updatedAt}</p> */}\n        <ul className='full-card-buttons-list'>\n          {this.renderContextualButtons()}\n          <Tooltip title={'associations'} mouseEnterDelay={1.1}>\n            <li>\n              <button\n                onClick={(e) => {\n                  // show the modal\n                  this.props.showComponent('associationSider', this.props.nodeData);\n                }}\n              >\n                <Icon type={'branches'} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip title={'graph'} mouseEnterDelay={1.1}>\n            <li>\n              <button\n                onClick={(e) => window.location.replace(`/graph/${this.props.nodeData.uuid}`)}\n              >\n                <Icon type={'deployment-unit'} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip title={'pin'} mouseEnterDelay={1.1}>\n            <li>\n              <button onClick={(e) => this.togglePinned()}>\n                <Icon\n                  type={'pushpin'}\n                  theme={this.state.pinnedState}\n                  className='full-card-button'\n                />\n              </button>\n            </li>\n          </Tooltip>\n          {this.renderExportButton()}\n          <Tooltip\n            title={this.state.hidden ? 'hidden from explore' : 'visible in explore'}\n            mouseEnterDelay={1.1}\n          >\n            <li>\n              <button onClick={(e) => this.toggleHidden()}>\n                <Icon type={this.state.hiddenIcon} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip\n            title={this.state.searchable ? 'searchable' : 'hidden from search'}\n            mouseEnterDelay={1.1}\n          >\n            <li>\n              <button onClick={(e) => this.toggleSearchable()}>\n                <Icon\n                  type={this.state.searchableIcon}\n                  theme='outlined'\n                  className='full-card-button'\n                />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip title={'open in browser'} mouseEnterDelay={1.1}>\n            <li>\n              <button\n                onClick={(e) => window.open(`/associations/${this.props.nodeData.uuid}`, '_blank')}\n              >\n                <Icon type={'global'} theme='outlined' className='full-card-button' />\n              </button>\n            </li>\n          </Tooltip>\n          <Tooltip title={'delete'} mouseEnterDelay={1.1}>\n            <li>\n              <button onClick={(e) => this.toggleDeleteModal()}>\n                <Icon type={'delete'} theme='outlined' className='full-card-button delete' />\n              </button>\n            </li>\n          </Tooltip>\n        </ul>\n        <Modal\n          title='Confirm Deletion'\n          visible={this.state.showDeleteModal}\n          className='delete-modal'\n          centered\n          onOk={this.deleteHandler}\n          okType='danger'\n          okText='Delete'\n          closable={false}\n          onCancel={this.toggleDeleteModal}\n        >\n          <p>\n            Are you sure you want to delete <b>{this.props.nodeData.name || 'untitled'}</b>?\n          </p>\n        </Modal>\n        <Modal\n          title='Confirm Export'\n          visible={this.state.showExportModal}\n          className='delete-modal'\n          centered\n          onOk={this.exportHandler}\n          // okType='success'\n          okText='Generate'\n          closable={false}\n          onCancel={this.toggleExportModal}\n        >\n          <p>\n            Generate export package from <b>{this.props.nodeData.name || 'untitled'}</b>? The export\n            will contain <b>{this.props.nodeData.name || 'untitled'}</b> along with all its\n            associations, and appear in your pinboard when it is completed.\n          </p>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodeData: state.nodes.activeNode,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  showComponent,\n  updateActiveNode,\n  unpackSynthonaImport,\n  deleteNode,\n  clearActiveNode,\n  generateExportByUUID,\n  removeSynthonaImportsByPackage,\n})(NodeCardHeaderFull);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Icon } from 'antd';\nimport { markNodeView, showComponent, updateNode } from '../../../api/redux/actions';\n\nclass NodeCardHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.node.name,\n      editable: false,\n    };\n  }\n\n  // render the title\n  renderTitle = () => {\n    if (!this.state.editable) {\n      // if it is not editable render the plain title\n      return (\n        <h3\n          className='nodelist-item-title'\n          onDoubleClick={(e) => {\n            e.preventDefault();\n            this.setState({ editable: true });\n          }}\n        >\n          {this.state.name}\n        </h3>\n      );\n    } else {\n      // when title is double clicked render the input field\n      return (\n        <input\n          type='text'\n          className='nodelist-item-title'\n          onBlur={() => this.setState({ editable: null })}\n          maxLength='250'\n          autoFocus\n          placeholder='name'\n          value={this.state.name}\n          onKeyPress={(e) => {\n            // remove input on enter\n            if (e.key === 'Enter') {\n              this.setState({ editable: null });\n            }\n          }}\n          onChange={(e) => {\n            this.saveName(e.target.value);\n          }}\n          onFocus={(e) => {\n            e.target.select();\n          }}\n        ></input>\n      );\n    }\n  };\n\n  // update and save the document name\n  saveName = (name) => {\n    if (this.state.name !== name) {\n      this.props.updateNode({ uuid: this.props.node.uuid, name });\n      this.props.node.name = name;\n      this.setState({ name: name });\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className='nodelist-options'\n        style={{\n          display: 'flex',\n          width: '100%',\n        }}\n      >\n        {this.renderTitle()}\n        <div className='nodelist-options-buttons' style={{ marginLeft: 'auto' }}>\n          <button onClick={(e) => window.location.replace('/graph/' + this.props.node.uuid)}>\n            <Icon\n              type={'deployment-unit'}\n              theme='outlined'\n              style={{\n                fontSize: '0.9rem',\n                display: 'block',\n                textAlign: 'center',\n                padding: '0',\n              }}\n            />\n          </button>\n          <button onClick={(e) => this.props.markNodeView(this.props.node)}>\n            <Icon\n              type={'bulb'}\n              theme='outlined'\n              style={{\n                fontSize: '0.9rem',\n                display: 'block',\n                textAlign: 'center',\n                padding: '0',\n              }}\n            />\n          </button>\n          <button\n            onClick={(e) => {\n              // set the active node so the modal has the node data\n              // show the modal\n              this.props.showComponent('associationSider', this.props.node);\n            }}\n          >\n            <Icon\n              type={'branches'}\n              theme='outlined'\n              style={{\n                fontSize: '0.9rem',\n                display: 'block',\n                textAlign: 'center',\n                padding: '0',\n              }}\n            />\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, {\n  markNodeView,\n  showComponent,\n  updateNode,\n})(NodeCardHeader);\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Text = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/edit/text/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <p>{props.node.preview}</p>\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <p>{props.node.preview}</p>\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <Link to={`/edit/text/${props.node.uuid}`} /*target='_blank' */>\n          <p>{props.node.preview}</p>\n        </Link>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/edit/text/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Text };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Image = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        {props.renderHeader()}\n        <Link\n          to={`/associations/${props.node.uuid}`}\n          onClick={(e) => {\n            e.preventDefault();\n            props.handleClick();\n            window.location.replace(`/associations/${props.node.uuid}`);\n          }}\n          onContextMenu={(e) => {\n            // e.preventDefault();\n            // props.toggleHeader();\n          }}\n        >\n          <Fragment>\n            <img\n              src={props.node.preview}\n              alt={props.node.name}\n              style={{\n                objectFit: 'cover',\n                minHeight: '100%',\n                width: '100%',\n              }}\n            ></img>\n          </Fragment>\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <img\n          src={props.node.preview}\n          alt={props.node.name}\n          style={{\n            objectFit: 'cover',\n            minHeight: '100%',\n            width: '100%',\n          }}\n        ></img>\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <img src={props.node.preview} alt={props.node.name}></img>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Image };\n","import React, { Fragment } from 'react';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Url = (props) => {\n  const urlIcon = 'bulb';\n\n  const renderPreview = () => {\n    if (props.node.preview) {\n      return (\n        <img\n          src={props.node.preview}\n          alt={props.node.name}\n          style={{\n            objectFit: 'cover',\n            // minHeight: '100%',\n            width: '100%',\n          }}\n        ></img>\n      );\n    } else {\n      return (\n        <Icon\n          type={urlIcon}\n          // type={'star'}\n          theme='outlined'\n          style={{\n            fontSize: '5rem',\n            color: '#b8b8b8',\n            display: 'block',\n            textAlign: 'center',\n            padding: '4.3rem 3.3rem 3.3rem',\n            height: '100%',\n          }}\n        />\n      );\n    }\n  };\n\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        {props.renderHeader()}\n        <a\n          href={`/associations/${props.node.uuid}`}\n          // target='_blank'\n          rel='noopener noreferrer'\n          // onClick={(e) => history.push(`/associations/${props.node.uuid}`)}\n          onClick={(e) => {\n            e.preventDefault();\n            props.handleClick();\n            window.location.replace(`/associations/${props.node.uuid}`);\n          }}\n          onContextMenu={(e) => {\n            // e.preventDefault();\n            // props.toggleHeader();\n          }}\n          style={{ width: '100%' }}\n        >\n          {renderPreview()}\n        </a>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    if (props.node.preview) {\n      return (\n        <Fragment>\n          <img\n            src={props.node.preview}\n            alt={props.node.name}\n            style={{\n              objectFit: 'cover',\n              width: '100%',\n            }}\n          ></img>\n        </Fragment>\n      );\n    } else {\n      return (\n        <Fragment>\n          <Icon type={urlIcon} theme='outlined' className='node-card-icon' />\n        </Fragment>\n      );\n    }\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        {/* <p>{props.node.preview}</p> */}\n        <a\n          href={props.node.path}\n          target='_blank'\n          rel='noopener noreferrer'\n          // onClick={(e) => props.markNodeView(props.node)}\n          style={{ width: '100%' }}\n        >\n          {renderPreview()}\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <a\n        href={props.node.path}\n        target='_blank'\n        rel='noopener noreferrer'\n        onClick={(e) => props.handleAssociatonClick()}\n        style={{ wordBreak: 'break-all' }}\n      >\n        {props.node.name}\n      </a>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Url };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst File = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'file'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'file'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <a\n          href={props.node.preview}\n          target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'file'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { File };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Audio = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'sound'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'sound'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <a\n          href={props.node.preview}\n          target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'sound'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => this.handleLinkClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Audio };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Package = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'gift'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'gift'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <a\n          href={props.node.preview}\n          // target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'gift'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Package };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport NodeCardHeader from '../../../components/elements/node/NodeCardHeader';\n\nconst Zip = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        <NodeCardHeader node={props.node} />\n        <Link to={`/associations/${props.node.uuid}`} onClick={(e) => props.handleClick()}>\n          <Icon type={'file-zip'} theme='outlined' className='node-card-icon' />\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <Icon type={'file-zip'} theme='outlined' className='node-card-icon' />\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <a\n          href={props.node.preview}\n          target='_blank'\n          rel='noopener noreferrer'\n          style={{ width: '100%' }}\n        >\n          <Icon\n            type={'file-zip'}\n            theme='outlined'\n            style={{\n              fontSize: '5rem',\n              color: '#b8b8b8',\n              display: 'block',\n              textAlign: 'center',\n              padding: '3rem',\n            }}\n          />\n        </a>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Zip };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Icon } from 'antd';\n// custom code\nimport NodeRenderer from '../NodeRenderer';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\n\nconst Collection = (props) => {\n  const onCollectionContextMenu = (e) => {\n    e.preventDefault();\n    // props.toggleHeader();\n  };\n\n  const onCollectionClick = (e) => {\n    e.preventDefault();\n    props.handleClick();\n    window.location.replace(`/associations/${props.node.uuid}`);\n  };\n\n  const nodeCard = () => {\n    // create the collection grid\n    var previewCount = 0;\n    var collectionPreview = null;\n    var preview = null;\n    // check if the collection has a preview\n    if (props.node.preview) {\n      preview = JSON.parse(props.node.preview);\n      previewCount = preview.length;\n    }\n    // create the different grid types\n    switch (previewCount) {\n      case 0:\n        collectionPreview = (\n          <li className='nodelist-item'>\n            {props.renderHeader()}\n            <Link\n              to={`/associations/${props.node.uuid}`}\n              onClick={(e) => onCollectionClick(e)}\n              onContextMenu={(e) => onCollectionContextMenu(e)}\n            >\n              <Icon type={'branches'} theme='outlined' className='node-card-icon' />\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 1:\n        collectionPreview = (\n          <li className='nodelist-item'>\n            {props.renderHeader()}\n            <Link\n              to={`/associations/${props.node.uuid}`}\n              onClick={(e) => onCollectionClick(e)}\n              onContextMenu={(e) => onCollectionContextMenu(e)}\n            >\n              <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 2:\n        collectionPreview = (\n          <li className='nodelist-item nodelist-item-collection'>\n            {props.renderHeader()}\n            <Link\n              to={`/associations/${props.node.uuid}`}\n              onClick={(e) => onCollectionClick(e)}\n              onContextMenu={(e) => onCollectionContextMenu(e)}\n            >\n              <ul className='nodelist-collection-grid'>\n                <li className='nodelist-collection-grid-full-width'>\n                  <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n                </li>\n                <li className='nodelist-collection-grid-full-width'>\n                  <NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n                </li>\n              </ul>\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 3:\n        collectionPreview = (\n          <li className='nodelist-item nodelist-item-collection'>\n            {props.renderHeader()}\n            <Link\n              to={`/associations/${props.node.uuid}`}\n              onClick={(e) => onCollectionClick(e)}\n              onContextMenu={(e) => onCollectionContextMenu(e)}\n            >\n              <ul className='nodelist-collection-grid'>\n                <li className='nodelist-collection-grid-full-width'>\n                  <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n                </li>\n                <li></li>\n              </ul>\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      case 4:\n        collectionPreview = (\n          <li className='nodelist-item nodelist-item-collection'>\n            {props.renderHeader()}\n            <Link\n              to={`/associations/${props.node.uuid}`}\n              onClick={(e) => onCollectionClick(e)}\n              onContextMenu={(e) => onCollectionContextMenu(e)}\n            >\n              <ul className='nodelist-collection-grid'>\n                <li>\n                  <NodeRenderer type={preview[0].type} element={'preview'} node={preview[0]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[1].type} element={'preview'} node={preview[1]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[2].type} element={'preview'} node={preview[2]} />\n                </li>\n                <li>\n                  <NodeRenderer type={preview[3].type} element={'preview'} node={preview[3]} />\n                </li>\n              </ul>\n            </Link>\n          </li>\n        );\n        return collectionPreview;\n      default:\n        return;\n    }\n  };\n\n  const fullNode = () => {\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/associations/${props.node.uuid}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='_blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { Collection };\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n// for now these are in-common between nodes\nimport NodeCardHeaderFull from '../../../components/elements/node/NodeCardHeaderFull';\nimport defaultHeader from '../../../resources/cloud9.png';\n\nconst User = (props) => {\n  const nodeCard = () => {\n    return (\n      <li className='nodelist-item'>\n        {props.renderHeader()}\n        <Link\n          to={`/profile/${props.node.path}`}\n          replace\n          onClick={(e) => {\n            e.preventDefault();\n            props.handleClick();\n            window.location.replace(`/profile/${props.node.path}`);\n          }}\n          onContextMenu={(e) => {\n            e.preventDefault();\n            props.toggleHeader();\n          }}\n        >\n          <img\n            src={props.node.preview || defaultHeader}\n            alt={props.node.name}\n            style={{\n              objectFit: 'cover',\n              minHeight: '100%',\n              width: '100%',\n            }}\n          ></img>\n        </Link>\n      </li>\n    );\n  };\n\n  // how the node will appear in collections\n  const collectionPreview = () => {\n    return (\n      <Fragment>\n        <img\n          src={props.node.preview || defaultHeader}\n          alt={props.node.name}\n          style={{\n            objectFit: 'cover',\n            minHeight: '100%',\n            width: '100%',\n          }}\n        ></img>\n      </Fragment>\n    );\n  };\n\n  const fullNode = () => {\n    console.log(props.node);\n    return (\n      <div className='full-node-item'>\n        <NodeCardHeaderFull />\n        <Link to={`/profile/${props.node.path}`} /*target='_blank' */>\n          <p>{props.node.name}</p>\n        </Link>\n      </div>\n    );\n  };\n\n  const associationLink = () => {\n    return (\n      <Link\n        to={`/profile/${props.node.path}`}\n        onClick={(e) => props.handleAssociatonClick()}\n        // target='blank'\n      >\n        {props.node.name}\n      </Link>\n    );\n  };\n\n  // render the requested element\n  const renderNode = () => {\n    switch (props.element) {\n      case 'card':\n        return <Fragment>{nodeCard()}</Fragment>;\n      case 'preview':\n        return <Fragment>{collectionPreview()}</Fragment>;\n      case 'full':\n        return <Fragment>{fullNode()}</Fragment>;\n      case 'association-link':\n        return <Fragment>{associationLink()}</Fragment>;\n      default:\n        return;\n    }\n  };\n\n  return <Fragment>{renderNode()}</Fragment>;\n};\n\nexport { User };\n","// import the default node configurations\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { updateLinkStrength, hideComponent } from '../../api/redux/actions';\nimport { Text, Image, Url, File, Audio, Package, Zip, Collection, User } from './core/index';\nimport NodeCardHeader from '../../components/elements/node/NodeCardHeader';\n\nclass NodeRenderer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showHeader: true,\n    };\n  }\n  // increment linkstrength if there is an activeNode\n  handleNodeClick = () => {\n    const nodeUUID = this.props.node.uuid;\n    if (this.props.activeNode) {\n      const linkedNodeUUID = this.props.activeNode.uuid;\n      // increment the linkStrength on the server\n      this.props.updateLinkStrength(nodeUUID, linkedNodeUUID);\n    }\n  };\n\n  // increment linkstrength on association sider clicks\n  handleAssociatonClick = () => {\n    this.props.hideComponent('associationSider');\n    if (this.props.siderNodeUUID && this.props.node.uuid) {\n      const siderUUID = this.props.siderNodeUUID;\n      const linkedNodeUUID = this.props.node.uuid;\n      // increment the linkStrength on the server\n      this.props.updateLinkStrength(siderUUID, linkedNodeUUID);\n    }\n  };\n\n  toggleHeader = () => {\n    if (this.state.showHeader) {\n      this.setState({ showHeader: false });\n    } else {\n      this.setState({ showHeader: true });\n    }\n  };\n\n  renderHeader = () => {\n    if (this.state.showHeader) {\n      return <NodeCardHeader node={this.props.node} />;\n    } else {\n      return;\n    }\n  };\n\n  renderNode = () => {\n    switch (this.props.type) {\n      case 'text':\n        return (\n          <Text\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'image':\n        return (\n          <Image\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n            toggleHeader={this.toggleHeader}\n            renderHeader={this.renderHeader}\n          />\n        );\n      case 'url':\n        return (\n          <Url\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n            toggleHeader={this.toggleHeader}\n            renderHeader={this.renderHeader}\n          />\n        );\n      case 'file':\n        return (\n          <File\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'audio':\n        return (\n          <Audio\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'package':\n        return (\n          <Package\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'zip':\n        return (\n          <Zip\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n          />\n        );\n      case 'collection':\n        return (\n          <Collection\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n            toggleHeader={this.toggleHeader}\n            renderHeader={this.renderHeader}\n          />\n        );\n      case 'user':\n        return (\n          <User\n            element={this.props.element}\n            node={this.props.node}\n            handleClick={this.handleNodeClick}\n            handleAssociatonClick={this.handleAssociatonClick}\n            toggleHeader={this.toggleHeader}\n            renderHeader={this.renderHeader}\n          />\n        );\n      default:\n        return;\n    }\n  };\n\n  render() {\n    return <Fragment>{this.renderNode()}</Fragment>;\n  }\n}\n\nexport default connect(null, { updateLinkStrength, hideComponent })(NodeRenderer);\n","import React from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nconst NodeCard = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return (\n        <NodeRenderer\n          type={props.node.type}\n          element={'card'}\n          node={props.node}\n          activeNode={props.activeNode}\n        />\n      );\n    }\n  };\n\n  return <div>{renderNodeCard()}</div>;\n};\n\nexport default NodeCard;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  hideComponent,\n  deleteAssociationLink,\n  removeFromAssociationList,\n  updateLinkStrength,\n} from '../../../api/redux/actions';\nimport { Button, Tooltip } from 'antd';\nimport './AssociationLinkList.less';\n// node renderer\nimport NodeRenderer from '../../../types/render/NodeRenderer';\n\nclass AssociationLink extends Component {\n  handleDeleteAssociation = () => {\n    // sider node is the the node the sider was opened from\n    var siderNodeUUID = this.props.siderNodeUUID;\n    // linked node is the node from the list, to be un-linked, un-associated\n    var linkedNodeUUID = this.props.association.uuid;\n    // active node is only set when viewing an /association page, the node of the page itself\n    if (this.props.activeNode) {\n      // store the active node\n      var activeNodeUUID = this.props.activeNode.uuid;\n    }\n    // if both have values go ahead and delete the association\n    if (siderNodeUUID && linkedNodeUUID) {\n      this.props.deleteAssociationLink(siderNodeUUID, linkedNodeUUID);\n      // store pathname\n      var pathname = window.location.pathname;\n      // handle removal from association list page if on association page if an associated node was removed\n      if (\n        (pathname.includes('associations') || pathname.includes('/edit/text/')) &&\n        activeNodeUUID &&\n        activeNodeUUID === linkedNodeUUID\n      ) {\n        this.props.removeFromAssociationList(siderNodeUUID);\n        this.props.hideComponent('associationSider');\n      } else if (\n        (pathname.includes('associations') || pathname.includes('/edit/text/')) &&\n        activeNodeUUID &&\n        activeNodeUUID === siderNodeUUID\n      ) {\n        this.props.removeFromAssociationList(linkedNodeUUID);\n      }\n    }\n  };\n\n  // render card types\n  renderAssociationLink = (association) => {\n    return (\n      <li className='association-list-item'>\n        <Tooltip title={association.name} mouseLeaveDelay={0} mouseEnterDelay={0.3}>\n          <Button\n            icon='close'\n            shape='circle'\n            size='small'\n            onClick={(e) => this.handleDeleteAssociation()}\n          />\n          <NodeRenderer\n            type={association.type}\n            element={'association-link'}\n            node={association}\n            siderNodeUUID={this.props.siderNodeUUID}\n          ></NodeRenderer>\n        </Tooltip>\n      </li>\n    );\n  };\n\n  render() {\n    return <div>{this.renderAssociationLink(this.props.association)}</div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    siderNodeUUID: state.components.componentList['associationSider'].content.uuid,\n    activeNode: state.nodes.activeNode,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  hideComponent,\n  deleteAssociationLink,\n  removeFromAssociationList,\n  updateLinkStrength,\n})(AssociationLink);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { searchNodes, fetchAssociationLinkList } from '../../../api/redux/actions';\n// import NodeCard from './NodeCard';\nimport Spinner from '../Spinner';\nimport AssociationLink from './AssociationLink';\n\nclass AssociationLinkList extends Component {\n  componentDidMount() {\n    this.props.fetchAssociationLinkList({ nodeUUID: this.props.nodeUUID });\n  }\n\n  loadMore = () => {\n    this.props.fetchAssociationLinkList({\n      nodeUUID: this.props.nodeUUID,\n      page: this.props.page + 1,\n    });\n  };\n\n  renderAssociationLinkList = () => {\n    // go through the list of nodes and render them to the page\n    const list = this.props.associations;\n    // if list exists render the links\n    if (list !== null) {\n      return list.map((association) => {\n        return <AssociationLink key={association.uuid} association={association} />;\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  renderLoadMoreButton = () => {\n    var listLength = this.props.associations.length;\n    // if the total items is more than what is loaded show the load more button\n    if (this.props.totalItems > listLength + 1) {\n      return (\n        <li style={{ listStyle: 'none', marginTop: '0.5rem', textAlign: 'center' }}>\n          <button\n            style={{\n              margin: '1rem 0',\n              width: '90%',\n              backgroundColor: '#272727',\n              color: '#16e998',\n            }}\n            onClick={(e) => this.loadMore()}\n          >\n            load more\n          </button>\n        </li>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <ul id='node-info-list' className='association-list'>\n        {this.renderAssociationLinkList()}\n        {this.renderLoadMoreButton()}\n      </ul>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationLinkList,\n    page: state.associations.associationLinkListPage,\n    totalItems: state.associations.totalLinkListItems,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  searchNodes,\n  fetchAssociationLinkList,\n})(AssociationLinkList);\n","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Drawer, AutoComplete } from 'antd';\nimport {\n  signOut,\n  hideComponent,\n  createAssociation,\n  fetchAssociationLinkList,\n  associationAutocomplete,\n} from '../../../api/redux/actions';\n// custom code\nimport AssociationLinkList from './AssociationLinkList';\n// destructure antd\nconst { Option } = AutoComplete;\n\nclass AssociationSider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      autocompleteOptions: null,\n      autocompleteValues: null,\n      inputText: '',\n    };\n  }\n\n  createAssociationHandler = async (input) => {\n    // get the uuid of the node to be associated\n    const nodeToAssociate = [];\n    var siderNode = this.props.associationSiderData.content;\n    this.state.autocompleteValues.forEach((node) => {\n      if (node.uuid === input) {\n        nodeToAssociate.push(node.uuid);\n      }\n    });\n    const nodeUUIDToAssociate = nodeToAssociate[0];\n    // get this node uuid\n    const nodeUUID = siderNode.uuid;\n    // associate the nodes\n    await this.props.createAssociation(nodeUUID, nodeUUIDToAssociate);\n    this.setState({ autocompleteOptions: [], autocompleteValues: null, inputText: '' });\n    // re-render the autocomplete values so more can be added\n    this.renderAutocompleteValues('');\n  };\n\n  renderAutocompleteValues = async (input) => {\n    var siderNode = this.props.associationSiderData.content;\n    this.setState({ inputText: input });\n    const result = await this.props.associationAutocomplete({\n      searchQuery: input || '',\n      uuid: siderNode.uuid,\n    });\n    if (result) {\n      this.setState({\n        autocompleteValues: result.map((node) => {\n          return node;\n        }),\n      });\n      const newValues = result.map((node) => {\n        return <Option key={node.uuid}>{node.name}</Option>;\n      });\n      this.setState({ autocompleteOptions: newValues });\n    }\n  };\n\n  hideInfoSider = () => {\n    // reset state when the sider is hidden\n    this.setState({ autocompleteOptions: null, autocompleteValues: null, inputText: '' });\n    // hide association sider component\n    this.props.hideComponent('associationSider');\n  };\n\n  renderContent = () => {\n    if (this.props.associationSiderData) {\n      var siderNode = this.props.associationSiderData.content;\n      return (\n        <div className='node-info-sider-container' style={{ textAlign: 'center' }}>\n          <Drawer\n            className='node-info-sider'\n            placement='right'\n            closable={false}\n            title={siderNode.name}\n            onClose={() => {\n              this.hideInfoSider();\n              // temporary fix to remove overflow property being set on body by antd\n              document.documentElement.style.cssText = '';\n            }}\n            visible={this.props.associationSiderData.visible}\n          >\n            {/*  <Link className='node-info-sider-header' to={`/associations/${siderNode.uuid}`}>\n              {siderNode.name}\n            </Link>\n            <p style={{ color: 'white' }}>{siderNode.preview}</p> */}\n            <AutoComplete\n              style={{\n                width: 200,\n              }}\n              placeholder='add association'\n              value={this.state.inputText}\n              onChange={(value) => this.renderAutocompleteValues(value)}\n              onFocus={(value) => this.renderAutocompleteValues(value)}\n              onSelect={(value) => this.createAssociationHandler(value)}\n            >\n              {this.state.autocompleteOptions}\n            </AutoComplete>\n            <br />\n            <AssociationLinkList nodeUUID={siderNode.uuid} />\n          </Drawer>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return <div>{this.renderContent()}</div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associationSiderData: state.components.componentList['associationSider'],\n    page: state.associations.associationLinkListPage,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signOut,\n  hideComponent,\n  createAssociation,\n  fetchAssociationLinkList,\n  associationAutocomplete,\n})(AssociationSider);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n// import NodeCardFull from '../node/NodeCardFull';\n\nclass NodeList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topOfPage: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchNodes({\n      // page: this.props.query.page > 1 ? this.props.query.page - 1 : this.props.query.page,\n      page: 1,\n      type: this.props.query.type,\n      searchQuery: this.props.query.searchQuery,\n    });\n    window.addEventListener('scroll', this.infiniteScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.infiniteScroll);\n  }\n\n  infiniteScroll = (e) => {\n    if (this.endReached() && !this.props.isFetching) {\n      this.setState({ topOfPage: false });\n      // fetch the next page\n      this.props.fetchNodes({\n        page: this.props.query.page + 1,\n        type: this.props.query.type,\n        searchQuery: this.props.query.searchQuery,\n      });\n    }\n  };\n\n  endReached = () => {\n    // window calculations to tell when the user scrolls to the bottom\n    const windowHeight =\n      'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    // check if the top is reached\n    if (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n      this.setState({ topOfPage: true });\n      // at the top of the page, reset the nodelist\n      this.props.fetchNodes({\n        page: 1,\n        type: this.props.query.type,\n        searchQuery: this.props.query.searchQuery,\n      });\n    }\n    // if it's not the top of the page go ahead and fetch more\n    return windowBottom >= docHeight - 733;\n  };\n\n  renderNodeList = () => {\n    // go through the list of nodes and render them to the page\n    const nodeList = this.props.nodes;\n    // if there are nodes go ahead and render\n    if (nodeList !== null) {\n      return nodeList.map((node) => {\n        if (node.uuid) {\n          // return <NodeCardFull key={node.uuid} node={node} />\n          return <NodeCard key={node.uuid} node={node} />;\n        } else {\n          return <Fragment></Fragment>;\n        }\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  render() {\n    return (\n      <div className='nodelist-container'>\n        <ul className='nodelist'>{this.renderNodeList()}</ul>\n        <AssociationSider />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodes: state.nodes.nodeList,\n    query: state.nodes.query,\n    totalNodes: state.nodes.totalItems,\n    isFetching: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(NodeList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\nimport NodeList from '../elements/node/NodeList';\n\nconst { Content } = Layout;\n\nclass Home extends Component {\n  componentDidMount() {\n    document.title = 'home';\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <Layout>\n          {this.renderMainSider()}\n          <Content style={{ minHeight: '100vh' }}>\n            <IOBar />\n            <div className='list-container'>\n              <NodeList />\n            </div>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    mainSider: state.components.componentList['mainSider'],\n  };\n};\n\nexport default connect(mapStateToProps)(Home);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Modal } from 'antd';\n// custom code\nimport Spinner from '../elements/Spinner';\nimport {\n  fetchUserByUsername,\n  showComponent,\n  hideComponent,\n  markNodeView,\n} from '../../api/redux/actions';\nimport './css/Profile.less';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      username: '',\n      displayName: '',\n      bio: '',\n      avatar: '',\n      header: '',\n      avatarModal: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.showComponent('mainSider');\n    document.title = this.props.match.params.username;\n    this.initializeFromUrlParams();\n  }\n\n  componentDidUpdate() {\n    document.body.style.removeProperty('overflow');\n    if (this.state.username !== this.props.match.params.username) {\n      document.title = this.props.match.params.username;\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.hideComponent('mainSider');\n  }\n\n  toggleAvatarModal = () => {\n    if (this.state.avatarModal === false) {\n      this.setState({ avatarModal: true });\n    } else {\n      this.setState({ avatarModal: false });\n    }\n  };\n\n  // load the text node and set the local id state.\n  initializeFromUrlParams = async () => {\n    // fetch the user info from the server\n    const user = await this.props.fetchUserByUsername(this.props.match.params.username);\n    if (user) {\n      this.setState({\n        initialized: true,\n        username: user.username,\n        displayName: user.displayName,\n        bio: user.bio,\n        avatar: user.avatar,\n        header: user.header,\n      });\n      // mark the profile as viewed\n      this.props.markNodeView({ uuid: user.nodeId });\n      // set the page title\n      document.title = user.displayName;\n    } else {\n      message.error('there was a problem loading the user');\n      this.props.history.push('/');\n    }\n  };\n\n  render() {\n    if (!this.state.initialized) {\n      return (\n        <Layout className='page-layout'>\n          <Layout>\n            <Layout>\n              <Spinner />\n            </Layout>\n          </Layout>\n        </Layout>\n      );\n    }\n\n    return (\n      <div className='profile-container'>\n        <MainSider showMask={false} animate={false} />\n        <Layout>\n          <Content style={{ marginBottom: '0' }} className='Profile'>\n            <div className='profile-card'>\n              <button href={`/profile/${this.state.username}`}>\n                <div className='Profile-header'>\n                  <img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n                </div>\n              </button>\n              {/* <button href={`/profile/${this.state.username}`}> */}\n              <div className='Profile-avatar'>\n                <img\n                  src={this.state.avatar || defaultAvatar}\n                  alt={'profile'}\n                  draggable='false'\n                  onClick={this.toggleAvatarModal}\n                />\n              </div>\n              {/* </button> */}\n              <div className='Profile-info'>\n                <h2 className='Profile-displayName'>\n                  {this.state.displayName}\n                  <div className='verified-sign-container'>\n                    <svg\n                      viewBox='0 0 24 24'\n                      aria-label='Verified account'\n                      className='verified-sign'\n                    >\n                      <g>\n                        <path d='M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z'></path>\n                      </g>\n                    </svg>\n                  </div>\n                </h2>\n                <i className='Profile-username'>{`@${this.state.username}`}</i>\n                <p className='Profile-bio'>{this.state.bio}</p>\n              </div>\n            </div>\n            <Modal\n              title={this.state.displayName}\n              visible={this.state.avatarModal}\n              className='profile-modal'\n              centered\n              onCancel={this.toggleAvatarModal}\n              closable={false}\n              footer={null}\n              afterClose={() => {\n                // temporary fix to remove overflow property being set on body by antd\n                document.body.style.removeProperty('overflow');\n              }}\n            >\n              <img src={this.state.avatar || defaultAvatar} alt={'avatar'}></img>\n            </Modal>\n            <NodeList />\n          </Content>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { user: state.auth.user };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUserByUsername,\n  showComponent,\n  hideComponent,\n  markNodeView,\n})(Profile);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, message, Icon, Button, Modal } from 'antd';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// custom code\nimport {\n  fetchUserByUsername,\n  updateUserInfo,\n  updateUserAvatar,\n  updateUserHeader,\n  updateUsername,\n  updateEmail,\n  changePassword,\n  clearAllNodes,\n  showComponent,\n  generateInstanceExport,\n  regenerateCollectionPreviews,\n  hideComponent,\n} from '../../api/redux/actions';\nimport './css/Options.less';\n// import IOBar from '../elements/IOBar';\nimport NodeList from '../elements/node/NodeList';\nimport MainSider from '../elements/MainSider';\n// import default images\nimport defaultHeader from '../../resources/cloud9.png';\nimport defaultAvatar from '../../resources/synthona-logo.png';\n\nconst { Content } = Layout;\n\nclass Options extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPasswordModal: false,\n      showDeleteNodesModal: false,\n      initialized: false,\n      username: '',\n      email: '',\n      displayName: '',\n      bio: '',\n      avatar: '',\n      header: '',\n    };\n  }\n\n  componentDidMount() {\n    this.props.showComponent('mainSider');\n    document.title = `Edit Profile`;\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n    this.initializeFromUrlParams();\n  }\n\n  updatePassword = (values, { setSubmitting }) => {\n    this.togglePasswordModal();\n    setSubmitting(false);\n    this.props.changePassword(values);\n  };\n\n  handleClearNodes = (values, { setSubmitting }) => {\n    this.toggleDeleteNodesModal();\n    setSubmitting(false);\n    this.props.clearAllNodes(values);\n  };\n\n  // show modal to confirm deletion\n  togglePasswordModal = () => {\n    if (this.state.showPasswordModal) {\n      this.setState({ showPasswordModal: false });\n    } else {\n      this.setState({ showPasswordModal: true });\n    }\n  };\n\n  // show modal to confirm deletion\n  toggleDeleteNodesModal = () => {\n    if (this.state.showDeleteNodesModal) {\n      this.setState({ showDeleteNodesModal: false });\n    } else {\n      this.setState({ showDeleteNodesModal: true });\n    }\n  };\n\n  passwordModal = () => {\n    return (\n      <Formik\n        initialValues={{ oldPassword: '', newPassword: '', confirmNewPassword: '' }}\n        validationSchema={validationSchema}\n        onSubmit={this.updatePassword}\n        style={{ display: 'inline-block' }}\n      >\n        {({ isSubmitting }) => (\n          <Form className='password-modal-form'>\n            <Field\n              type='password'\n              name='oldPassword'\n              placeholder='old password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='oldPassword' component='div' />\n            <Field\n              type='password'\n              name='newPassword'\n              placeholder='new password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='newPassword' component='div' />\n            <Field\n              type='password'\n              name='confirmNewPassword'\n              placeholder='confirm new password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='confirmNewPassword' component='div' />\n            <button type='submit' disabled={isSubmitting}>\n              change password\n            </button>\n          </Form>\n        )}\n      </Formik>\n    );\n  };\n\n  deleteAllNodesModal = () => {\n    return (\n      <Formik\n        initialValues={{ passwordValue: '', confirmPassword: '' }}\n        validationSchema={deleteNodesValidation}\n        onSubmit={this.handleClearNodes}\n        style={{ display: 'inline-block' }}\n      >\n        {({ isSubmitting }) => (\n          <Form className='password-modal-form'>\n            <p>\n              Are you are you want to delete all nodes and associations for this user? This action\n              is not reversible, it's recommended that u make a backup first.\n            </p>\n            <Field\n              type='password'\n              name='passwordValue'\n              placeholder='password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='passwordValue' component='div' />\n            <Field\n              type='password'\n              name='confirmPassword'\n              placeholder='confirm password'\n              className='password-modal-field'\n            />\n            <ErrorMessage name='confirmPassword' component='div' />\n            <button\n              type='danger'\n              disabled={isSubmitting}\n              style={{ color: 'white', backgroundColor: 'red' }}\n            >\n              yes, i want to delete all my data\n            </button>\n          </Form>\n        )}\n      </Formik>\n    );\n  };\n\n  // load the profile\n  initializeFromUrlParams = async () => {\n    // fetch the user info from the server\n    const user = await this.props.fetchUserByUsername(this.props.user.username);\n    if (user) {\n      this.setState({\n        initialized: true,\n        username: user.username,\n        email: this.props.user.email,\n        displayName: user.displayName,\n        bio: user.bio,\n        avatar: user.avatar,\n        header: user.header,\n      });\n    } else {\n      message.error('there was a problem loading your profile');\n      this.props.history.push('/');\n    }\n  };\n\n  // select an image.\n  setAvatar = () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.click();\n    // Listen for uploading local image, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n      // make sure file is an image\n      if (/^image\\//.test(file.type)) {\n        // save the image to the server\n        const url = await this.props.updateUserAvatar(file);\n        this.setState({ avatar: url });\n      } else {\n        message.error('The file must be an image', 1);\n      }\n    };\n  };\n\n  setHeader = () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.click();\n    // Listen for uploading local image, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n      // make sure file is an image\n      if (/^image\\//.test(file.type)) {\n        // save the image to the server\n        const url = await this.props.updateUserHeader(file);\n        this.setState({ header: url });\n      } else {\n        message.error('The file must be an image', 1);\n      }\n    };\n  };\n\n  // render display name\n  renderDisplayName = () => {\n    return (\n      <input\n        type='text'\n        className='Options-display-name'\n        placeholder='Display Name'\n        value={this.state.displayName}\n        onChange={(e) => this.saveDisplayName(e.target.value)}\n      ></input>\n    );\n  };\n\n  // update and save the displayName\n  saveDisplayName = (displayName) => {\n    if (this.state.displayName !== displayName) {\n      this.props.updateUserInfo({\n        username: this.props.user.username,\n        displayName: displayName,\n      });\n      localStorage.setItem('displayName', displayName);\n      document.title = displayName;\n      this.setState({ displayName });\n    }\n  };\n\n  // render the profile bio\n  renderBio = () => {\n    return (\n      <textarea\n        type='text'\n        className='Options-bio'\n        placeholder='Bio'\n        value={this.state.bio}\n        onChange={(e) => this.saveBio(e.target.value)}\n      ></textarea>\n    );\n  };\n\n  // update and save the bio\n  saveBio = (bio) => {\n    if (this.state.bio !== bio) {\n      this.props.updateUserInfo({\n        username: this.props.user.username,\n        bio: bio,\n      });\n      this.setState({ bio });\n    }\n  };\n\n  // render the profile username\n  renderUsername = () => {\n    return (\n      <input\n        type='text'\n        className='Options-standard-input'\n        placeholder='username'\n        value={this.state.username}\n        onChange={(e) => this.saveUsername(e.target.value)}\n      ></input>\n    );\n  };\n\n  // update and save the username\n  saveUsername = (username) => {\n    if (this.state.username !== username) {\n      this.props.updateUsername(username);\n      this.setState({ username });\n    }\n  };\n\n  // render the profile email\n  renderEmail = () => {\n    return (\n      <input\n        type='text'\n        className='Options-standard-input'\n        placeholder='email'\n        value={this.state.email}\n        onChange={(e) => this.saveEmail(e.target.value)}\n      ></input>\n    );\n  };\n\n  // update and save the email\n  saveEmail = (email) => {\n    if (this.state.email !== email) {\n      this.props.updateEmail(email);\n      this.setState({ email });\n    }\n  };\n\n  componentWillUnmount() {\n    // remove any selections on exit\n    window.getSelection().removeAllRanges();\n    // hide mainsider again\n    this.props.hideComponent('mainSider');\n  }\n\n  render() {\n    return (\n      <Layout className='Options-container'>\n        <MainSider showMask={false} animate={false} />\n        <Layout>\n          <Content className='Options'>\n            <div className='Options-card'>\n              <button onClick={this.setHeader}>\n                <div className='Options-header'>\n                  <Icon type='camera' className='Options-header-edit-icon' />\n                  <img src={this.state.header || defaultHeader} alt='example' draggable='false' />\n                </div>\n              </button>\n              <button onClick={this.setAvatar}>\n                <div className='Options-avatar'>\n                  <Icon type='camera' className='Options-avatar-edit-icon' />\n                  <img src={this.state.avatar || defaultAvatar} alt={'profile'} draggable='false' />\n                </div>\n              </button>\n              <div className='Options-info'>\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '10rem',\n                    padding: '0.5rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => {\n                    window.location.replace(`/profile/${this.props.user.username}`);\n                    this.props.generateInstanceExport();\n                  }}\n                >\n                  export all user data\n                </Button>\n                <br />\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '10rem',\n                    padding: '0.5rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => this.togglePasswordModal()}\n                >\n                  change password\n                </Button>\n                <br />\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '10rem',\n                    padding: '0.5rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => {\n                    window.location.replace(`/profile/${this.props.user.username}`);\n                    this.props.regenerateCollectionPreviews();\n                  }}\n                >\n                  regenerate previews\n                </Button>\n                <br />\n                <Button\n                  type='danger'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'red',\n                    width: '10rem',\n                    padding: '0.5rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => this.toggleDeleteNodesModal()}\n                >\n                  delete all data\n                </Button>\n                <br />\n                {this.renderDisplayName()}\n                {this.renderUsername()}\n                {this.renderEmail()}\n                {this.renderBio()}\n                <Button\n                  type='default'\n                  style={{\n                    margin: '0 0 10px',\n                    backgroundColor: 'white',\n                    width: '4rem',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                  }}\n                  onClick={(e) => this.props.history.push(`/profile/${this.props.user.username}`)}\n                >\n                  done\n                </Button>\n                <Modal\n                  title='change password'\n                  visible={this.state.showPasswordModal}\n                  className='password-modal'\n                  centered\n                  afterClose={() => document.body.style.removeProperty('overflow')}\n                  footer={null}\n                  closable={false}\n                  onCancel={this.togglePasswordModal}\n                >\n                  {this.passwordModal()}\n                </Modal>\n                <Modal\n                  title='delete all data'\n                  visible={this.state.showDeleteNodesModal}\n                  className='password-modal'\n                  centered\n                  afterClose={() => document.body.style.removeProperty('overflow')}\n                  footer={null}\n                  closable={false}\n                  onCancel={this.toggleDeleteNodesModal}\n                >\n                  {this.deleteAllNodesModal()}\n                </Modal>\n              </div>\n            </div>\n            <NodeList />\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  oldPassword: Yup.string().required('old password is required'),\n  newPassword: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmNewPassword: Yup.string()\n    .required('please confirm new password')\n    .oneOf([Yup.ref('newPassword')], \"Your passwords don't match\"),\n});\n\nconst deleteNodesValidation = Yup.object().shape({\n  passwordValue: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .min(5, 'Password has to be longer than 6 characters!')\n    .oneOf([Yup.ref('passwordValue')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { user: state.auth.user };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUserByUsername,\n  updateUserInfo,\n  updateUserAvatar,\n  updateUserHeader,\n  updateUsername,\n  updateEmail,\n  clearAllNodes,\n  changePassword,\n  showComponent,\n  generateInstanceExport,\n  regenerateCollectionPreviews,\n  hideComponent,\n})(Options);\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Content } = Layout;\n\nconst MainContent = (props) => {\n  return (\n    <Layout className='page-content'>\n      <Content style={{ backgroundColor: '#272727' }}>{props.children}</Content>\n    </Layout>\n  );\n};\n\nexport default MainContent;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\nimport MainSider from '../elements/MainSider';\n\nclass Activity extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainSider />\n          <MainContent />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport '../node/NodeList.less';\nimport { searchNodes, fetchAssociations } from '../../../api/redux/actions';\nimport NodeCard from '../node/NodeCard';\nimport AssociationSider from './AssociationSider';\nimport Spinner from '../Spinner';\n\nclass AssociationList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topOfPage: false,\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.infiniteScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.infiniteScroll);\n  }\n\n  infiniteScroll = (e) => {\n    var currentListLength = this.props.associations.length;\n    if (\n      this.endReached() &&\n      this.props.activeNode &&\n      currentListLength < this.props.totalNodes &&\n      !this.props.isFetching\n    ) {\n      this.setState({ topOfPage: false });\n      // fetch the next page\n      this.props.fetchAssociations({\n        page: this.props.page + 1,\n        nodeUUID: this.props.activeNode.uuid,\n      });\n    }\n  };\n\n  endReached = () => {\n    // window calculations to tell when the user scrolls to the bottom\n    const windowHeight =\n      'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    // check if the top is reached\n    if (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n      this.setState({ topOfPage: true });\n      // at the top of the page, reset the associationlist\n      this.props.fetchAssociations({\n        page: 1,\n        nodeUUID: this.props.activeNode.uuid,\n      });\n    }\n    // TODO: need to find a way to calculate the \"window top\" as well\n    // so i can decrement the page number when the user scrolls up\n    // this is necessary so redux doesn't have to store everything\n    return windowBottom >= docHeight - 733;\n  };\n\n  renderNodes = () => {\n    // go through the list of nodes and render them to the page\n    const associationList = this.props.associations;\n    // render the association list as cards\n    if (associationList !== null) {\n      return associationList.map((association) => {\n        return (\n          <NodeCard key={association.uuid} node={association} activeNode={this.props.activeNode} />\n        );\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  renderList = () => {\n    if (this.props.totalNodes > 0) {\n      return (\n        <ul style={{ backgroundColor: 'black' }} className='nodelist'>\n          {this.renderNodes()}\n        </ul>\n      );\n    } else if (this.props.totalNodes < 0) {\n      return <Fragment></Fragment>;\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.renderList()}\n        <AssociationSider />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationList,\n    isFetching: state.associations.isFetching,\n    activeNode: state.nodes.activeNode,\n    page: state.associations.associationListPage,\n    totalNodes: state.associations.totalAssociationListItems,\n  };\n};\n\nexport default connect(mapStateToProps, { searchNodes, fetchAssociations })(AssociationList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactQuill, { Quill } from 'react-quill';\nimport Delta from 'quill-delta';\n// import BlotFormatter, { AlignAction, DeleteAction, ImageSpec } from 'quill-blot-formatter';\nimport { Layout, message } from 'antd';\nimport 'react-quill/dist/quill.snow.css';\nimport AssociationList from '../elements/association/AssociationList';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport NodeCardHeaderFull from '../elements/node/NodeCardHeaderFull';\n// custom components\nimport Spinner from '../elements/Spinner';\n// redux handlers\nimport {\n  editTextNode,\n  processTextNode,\n  createFileNode,\n  setActiveNode,\n  updateNode,\n  fetchAssociations,\n  markNodeView,\n} from '../../api/redux/actions';\n// import custom editor css\nimport './QuillEditor.less';\n// destructure antd components\nconst { Content } = Layout;\n\n// register custom clipboard to handle bugs with the way the default one works\nconst Clipboard = Quill.import('modules/clipboard');\n// https://github.com/quilljs/quill/issues/1374\nclass CustomClipboard extends Clipboard {\n  onPaste(e) {\n    // get current page offset before paste\n    const top = window.pageYOffset;\n    const left = window.pageXOffset;\n\n    if (e.defaultPrevented || !this.quill.isEnabled()) return;\n    let range = this.quill.getSelection();\n    let delta = new Delta().retain(range.index);\n    this.container.style.top =\n      (\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop ||\n        0\n      ).toString() + 'px';\n    this.container.focus();\n    setTimeout(() => {\n      this.quill.selection.update(Quill.sources.SILENT);\n      delta = delta.concat(this.convert()).delete(range.length);\n      this.quill.updateContents(delta, Quill.sources.USER);\n      this.quill.setSelection(delta.length() - range.length, Quill.sources.SILENT);\n      let bounds = this.quill.getBounds(delta.length() - range.length, Quill.sources.SILENT);\n      this.quill.scrollingContainer.scrollTop = bounds.top;\n\n      // scroll window to previous position after paste\n      window.scrollTo({ top, left });\n    }, 1);\n  }\n}\n\nQuill.register('modules/clipboard', CustomClipboard, true);\n\nclass QuillEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      name: '',\n      expanded: localStorage.getItem('expanded'),\n      uuid: null,\n      error: null,\n      initializing: false,\n      readOnly: true,\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  ref = (quill) => {\n    this.quill = quill;\n  };\n\n  componentDidMount() {\n    document.body.style.overflow = 'auto';\n    document.body.style.height = '100%';\n    document.documentElement.style.height = '100%';\n    // prevent quill from jumping to top\n    document.querySelectorAll('.ql-picker').forEach((tool) => {\n      tool.addEventListener('mousedown', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    });\n    // initialize\n    this.initializeFromUrlParams();\n  }\n\n  componentDidUpdate = async () => {\n    // prevent quill from jumping to top\n    document.querySelectorAll('.ql-picker').forEach((tool) => {\n      tool.addEventListener('mousedown', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    });\n    // if the url has changed reload\n    var textUUID = this.props.match.params.uuid;\n    if (this.state.uuid !== textUUID && this.state.initializing === false) {\n      this.setState({\n        text: '',\n        name: '',\n        expanded: localStorage.getItem('expanded'),\n        uuid: null,\n        error: null,\n        initializing: true,\n        readOnly: true,\n      });\n      this.regeneratePreview();\n      this.initializeFromUrlParams();\n    }\n  };\n\n  // load the text node and set the local id state.\n  initializeFromUrlParams = async () => {\n    // scroll to top\n    window.scrollTo({ top: 0 });\n    // check url params\n    var textUUID = this.props.match.params.uuid;\n    // set the local state id equal to the value in the url\n    this.setState({ uuid: textUUID });\n    await this.props.setActiveNode(textUUID);\n    if (this.props.nodeData && this.props.nodeData.content) {\n      // if there is content set the local editor state equal to it\n      document.title = this.props.nodeData.name || 'Untitled';\n      var textValue = JSON.parse(this.props.nodeData.content);\n      this.setState({\n        text: textValue,\n        name: this.props.nodeData.name,\n        initializing: false,\n        readOnly: false,\n      });\n      this.props.markNodeView(this.props.nodeData);\n      // clear undo history to prevent undo from deleting everything\n      const editor = this.quill.getEditor();\n      editor.history.clear();\n      this.props.fetchAssociations({ nodeUUID: textUUID });\n    } else {\n      // if there's no content return an error message\n      this.setState({ error: true });\n      this.props.history.push('/');\n    }\n  };\n\n  // toggle fullscreen\n  expandHandler = () => {\n    if (this.state.expanded === null) {\n      this.setState({ expanded: 'expanded' });\n      localStorage.setItem('expanded', 'expanded');\n    } else {\n      this.setState({ expanded: null });\n      localStorage.removeItem('expanded');\n    }\n  };\n\n  // exit the editor and return to the home screen\n  exitHandler = async () => {\n    // generate the preview and do whatever processing will be\n    // necessary to process the node\n    // TODO: alter this so it stores a condensed version of the document instead of plain text\n    this.regeneratePreview();\n    this.props.history.push('/');\n  };\n\n  regeneratePreview = () => {\n    if (!this.state.deleting && !this.state.error && this.state.uuid !== null) {\n      const previewLength = 500;\n      const editor = this.quill.getEditor();\n      // process the text node\n      const content = editor.getText();\n      const preview = content.substring(0, previewLength);\n      // wait for preview to update before going back to homepage so it will be up to date\n      this.props.processTextNode({ uuid: this.state.uuid, preview });\n    }\n  };\n\n  // select an image.\n  selectLocalImage = () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', ['image/gif', 'image/jpg', 'image/jpeg', 'image/png']);\n    input.click();\n\n    // Listen for uploading local image, then save to server\n    input.onchange = async () => {\n      const file = input.files[0];\n\n      // make sure file is an image\n      if (/^image\\//.test(file.type)) {\n        // save the image to the server\n        const url = await this.props.createFileNode(\n          file,\n          null,\n          JSON.stringify(this.props.nodeData)\n        );\n        // push image url to rich editor.\n        const range = this.quill.getEditor().getSelection();\n        this.quill.getEditor().insertEmbed(range.index, 'image', url);\n      } else {\n        message.error('The file must be an image', 1);\n      }\n    };\n  };\n\n  isImageUrl = (url) => {\n    var expression = /[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi;\n    var regex = new RegExp(expression);\n    return regex.test(url);\n  };\n\n  // handle pasting of images\n  // these could potentially be stored in a special database table? I'm not sure if\n  // externally linked images would be a node type? I don't see why not. i think they're urls\n  matcherImageHandler = (node, delta) => {\n    const url = node.src;\n    const newDelta = new Delta();\n    return newDelta.insert({ image: url });\n  };\n\n  modules = {\n    toolbar: {\n      container: [\n        [{ header: [1, 2, 3, 4, 5, false] }],\n        [{ font: [] }],\n        [{ indent: '-1' }, { indent: '+1' }],\n        ['bold', 'italic', 'underline', 'strike'],\n        [\n          {\n            color: [\n              '#fff',\n              '#bbbbbb',\n              '#272727',\n              '#a80b44',\n              '#ff0062',\n              '#df1f95',\n              '#9933ff',\n              '#7fba00',\n              '#45d458',\n              '#31d697',\n              '#00a4ef',\n              '#4178df',\n              '#000080',\n              '#56007a',\n              '#007c25',\n              '#e2d58a',\n              '#f8cc52',\n              '#fff12b',\n              '#ff4500',\n              '#f40000',\n              '#a0390d',\n            ],\n          },\n          { background: [] },\n        ],\n        [{ align: null }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n        [{ list: 'ordered' }, { list: 'bullet' }],\n        [{ script: 'sub' }, { script: 'super' }], // superscript/subscript\n        ['code-block', 'blockquote'],\n        ['link', 'image', 'video'],\n        ['clean'],\n        ['expand', 'exit'],\n      ],\n      handlers: {\n        expand: this.expandHandler,\n        exit: this.exitHandler,\n        image: this.selectLocalImage,\n      },\n    },\n    clipboard: {\n      matchVisual: false,\n      matchers: [['img', this.matcherImageHandler]],\n    },\n    // blotFormatter: {\n    //   overlay: {\n    //     style: {\n    //       border: '2px solid #41e254',\n    //     },\n    //   },\n    // },\n  };\n\n  allowedFormats = [\n    'header',\n    'font',\n    'indent',\n    'bold',\n    'italic',\n    'underline',\n    'strike',\n    'color',\n    'background',\n    'align',\n    'list',\n    'script',\n    'code-block',\n    'blockquote',\n    'link',\n    'image',\n    'video',\n  ];\n\n  // render the main navbar\n  renderHeader = () => {\n    // Only render the header if the editor is  expanded\n    if (this.state.expanded === null && this.props.nodeData) {\n      return <NodeCardHeaderFull />;\n    }\n  };\n\n  handleChange(content, delta, source, editor) {\n    // Check to see if the document has changed before saving.\n    // TODO: i think this comparison is broken\n    if (editor.getContents() !== this.state.text && this.state.initializing === false) {\n      const fullDelta = JSON.stringify(editor.getContents());\n      this.props.editTextNode({\n        uuid: this.props.match.params.uuid,\n        content: fullDelta,\n      });\n      this.setState({ text: content });\n    }\n  }\n\n  componentWillUnmount() {\n    // clear styles\n    document.body.style.overflow = null;\n    document.body.style.height = null;\n    document.documentElement.style.overflow = null;\n    document.documentElement.style.height = null;\n    window.getSelection().removeAllRanges();\n  }\n\n  render() {\n    if (this.props.isLoading) {\n      return (\n        <Layout className='page-layout'>\n          <Layout>\n            <Layout>\n              {this.renderHeader()}\n              <Spinner />\n            </Layout>\n          </Layout>\n        </Layout>\n      );\n    }\n\n    return (\n      <Layout className='page-layout'>\n        <Content className={'text-editor-content ' + this.state.expanded}>\n          {this.renderHeader()}\n          <ReactQuill\n            value={this.state.text}\n            onChange={this.handleChange}\n            modules={this.modules}\n            ref={this.ref}\n            readOnly={this.state.readOnly}\n            formats={this.allowedFormats}\n            scrollingContainer={'body'}\n          ></ReactQuill>\n          <AssociationSider />\n          <AssociationList />\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodeData: state.nodes.activeNode,\n    isLoading: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  editTextNode,\n  processTextNode,\n  createFileNode,\n  updateNode,\n  setActiveNode,\n  fetchAssociations,\n  markNodeView,\n})(QuillEditor);\n","import {\n  FETCH_ASSOCIATION_LINK_LIST,\n  FETCH_ASSOCIATION_LINK_LIST_SUCCESS,\n  FETCH_ASSOCIATION_LINK_LIST_ERROR,\n  RESET_ASSOCIATION_LINK_LIST,\n  CREATE_ASSOCIATION_SUCCESS,\n  CREATE_ASSOCIATION,\n  CREATE_ASSOCIATION_ERROR,\n  FETCH_ASSOCIATIONS,\n  FETCH_ASSOCIATIONS_SUCCESS,\n  FETCH_ASSOCIATIONS_ERROR,\n  RESET_ASSOCIATIONS,\n  MARK_NODE_VIEW,\n  MARK_NODE_VIEW_ERROR,\n  MARK_NODE_VIEW_SUCCESS,\n  DELETE_ASSOCIATION_LINK,\n  DELETE_ASSOCIATION_LINK_ERROR,\n  DELETE_ASSOCIATION_LINK_SUCCESS,\n  REMOVE_FROM_ASSOCIATION_LIST,\n  SET_ACTIVE_NODE,\n  SET_ACTIVE_NODE_ERROR,\n  SET_ACTIVE_NODE_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  isSaving: null,\n  associationLinkList: [],\n  associationList: [],\n  totalLinkListItems: null,\n  totalAssociationListItems: null,\n  associationListPage: 1,\n  associationLinkListPage: 1,\n  activeNode: null,\n};\n\nlet newAssociationList;\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_ASSOCIATION_LINK_LIST:\n      return { ...state, isFetching: true };\n    case FETCH_ASSOCIATION_LINK_LIST_SUCCESS:\n      // // format the associations data and include new values\n      var associationLinkListArray = [...state.associationLinkList];\n      // update the association link list with the new values\n      Object.values(action.payload.associations).forEach((node) => {\n        if (!associationLinkListArray.some((item) => item.uuid === node.uuid)) {\n          associationLinkListArray.push(node);\n          if (associationLinkListArray.length > 100) {\n            // if the length gets too long free up some memory\n            // associationLinkListArray.splice(0, 2);\n            associationLinkListArray.splice(0, 30);\n            // associationLinkListArray.shift();\n          }\n        }\n      });\n      return {\n        ...state,\n        isFetching: null,\n        totalLinkListItems: action.payload.totalItems,\n        associationLinkList: associationLinkListArray,\n        associationLinkListPage: action.page || 1,\n      };\n    case FETCH_ASSOCIATION_LINK_LIST_ERROR:\n      return { ...state, isFetching: null };\n    case RESET_ASSOCIATION_LINK_LIST:\n      return { ...state, associationLinkList: [] };\n    case FETCH_ASSOCIATIONS:\n      return { ...state, isFetching: true };\n    case FETCH_ASSOCIATIONS_SUCCESS:\n      // format the associations data and include new values\n      var associationsArray = [...state.associationList];\n      // update the association link list with the new values\n      Object.values(action.payload.associations).forEach((node) => {\n        if (!associationsArray.some((item) => item.uuid === node.uuid)) {\n          associationsArray.push(node);\n          if (associationsArray.length > 100) {\n            // if the length gets too long free up some memory\n            // associationLinkListArray.splice(0, 2);\n            // picked a number that is divisible by both 2 and 3\n            associationsArray.splice(0, 30);\n            // associationLinkListArray.shift();\n          }\n        }\n      });\n      return {\n        ...state,\n        isFetching: null,\n        totalAssociationListItems: action.payload.totalItems,\n        associationList: associationsArray,\n        associationListPage: action.page || 1,\n      };\n    case FETCH_ASSOCIATIONS_ERROR:\n      return { ...state, isFetching: null };\n    case RESET_ASSOCIATIONS:\n      return { ...state, associationList: [] };\n    case CREATE_ASSOCIATION:\n      return { ...state, isSaving: true };\n    case CREATE_ASSOCIATION_SUCCESS:\n      // only add the node to the association list if one of the nodes is the activeNode\n      if (\n        state.activeNode &&\n        (action.associatedNode.uuid === state.activeNode.uuid ||\n          action.nodeUUID === state.activeNode.uuid)\n      ) {\n        newAssociationList = [action.associatedNode, ...state.associationList];\n      } else {\n        newAssociationList = [...state.associationList];\n      }\n      return {\n        ...state,\n        isFetching: null,\n        associationLinkList: [action.associatedNode, ...state.associationLinkList],\n        associationList: newAssociationList,\n        totalAssociationListItems: state.totalAssociationListItems + 1,\n      };\n    case CREATE_ASSOCIATION_ERROR:\n      return { ...state, isSaving: null };\n    case MARK_NODE_VIEW:\n      return { ...state, isSaving: true };\n    case MARK_NODE_VIEW_SUCCESS:\n      // only add back to list if the node was already in the list\n      var addBackToList = state.associationList.some((node) => node.uuid === action.node.uuid)\n        ? action.node\n        : false;\n      // use addBackToList to determine what should be returned\n      if (addBackToList) {\n        newAssociationList = [\n          state.associationList.some((node) => node.uuid === action.node.uuid) ? action.node : null,\n          ...state.associationList.filter((node) => node.uuid !== action.node.uuid),\n        ];\n      } else {\n        newAssociationList = [...state.associationList];\n      }\n      return {\n        ...state,\n        isFetching: null,\n        // move the viewed node to the front of the list\n        associationList: newAssociationList,\n      };\n    case MARK_NODE_VIEW_ERROR:\n      return { ...state, isSaving: null };\n    case SET_ACTIVE_NODE:\n      return { ...state, isFetching: true };\n    case SET_ACTIVE_NODE_SUCCESS:\n      return { ...state, isFetching: null, activeNode: action.payload.node };\n    case SET_ACTIVE_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case DELETE_ASSOCIATION_LINK:\n      return { ...state, isSaving: true };\n    case DELETE_ASSOCIATION_LINK_SUCCESS:\n      // update total items\n      var newTotalLinkListItems = state.totalLinkListItems - 1;\n      return {\n        ...state,\n        isSaving: null,\n        associationLinkList: [\n          ...state.associationLinkList.filter((node) => node.uuid !== action.deletedUUID),\n        ],\n        totalLinkListItems: newTotalLinkListItems,\n      };\n    case DELETE_ASSOCIATION_LINK_ERROR:\n      return { ...state, isSaving: null };\n    case REMOVE_FROM_ASSOCIATION_LIST:\n      // update total items\n      var newTotalItems = state.totalAssociationListItems - 1;\n      return {\n        ...state,\n        isSaving: null,\n        associationList: [\n          ...state.associationList.filter((node) => node.uuid !== action.deletedUUID),\n        ],\n        totalAssociationListItems: newTotalItems,\n      };\n    default:\n      return state;\n  }\n};\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  EDIT_TEXT_NODE,\n  EDIT_TEXT_NODE_SUCCESS,\n  EDIT_TEXT_NODE_ERROR,\n  PROCESS_TEXT_NODE,\n  PROCESS_TEXT_NODE_SUCCESS,\n  PROCESS_TEXT_NODE_ERROR,\n} from './types';\nimport { message } from 'antd';\n\n// edit text node handler\nexport const editTextNode = (node) => async (dispatch) => {\n  dispatch({ type: EDIT_TEXT_NODE });\n  try {\n    await instance.patch('/text', {\n      uuid: node.uuid,\n      content: node.content,\n    });\n    dispatch({\n      type: EDIT_TEXT_NODE_SUCCESS,\n      node: node,\n    });\n  } catch (err) {\n    dispatch({ type: EDIT_TEXT_NODE_ERROR });\n    message.error('There was a problem saving your changes', 1);\n    history.push('/');\n  }\n};\n\n// final processing of text node after closing the editor\nexport const processTextNode = (node) => async (dispatch) => {\n  dispatch({ type: PROCESS_TEXT_NODE });\n  try {\n    await instance.patch('/text/process', { uuid: node.uuid, preview: node.preview });\n    dispatch({ type: PROCESS_TEXT_NODE_SUCCESS, node, preview: node.preview });\n  } catch (err) {\n    dispatch({ type: PROCESS_TEXT_NODE_ERROR });\n  }\n};\n","import React from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport './css/Page.less';\n// destructure antd components\nconst { Footer } = Layout;\n\nconst MainFooter = () => {\n  return <Footer className='page-footer' />;\n};\n\nexport default MainFooter;\n","import React, { Component } from 'react';\nimport { Layout } from 'antd';\n// custom code\nimport '../elements/css/Page.less';\nimport MainContent from '../elements/MainContent';\nimport IOBar from '../elements/IOBar';\n// import MainSider from '../elements/MainSider';\nimport MainFooter from '../elements/MainFooter';\n\nclass Collections extends Component {\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <IOBar />\n        <Layout>\n          <MainContent>Collections</MainContent>\n        </Layout>\n        <MainFooter />\n      </Layout>\n    );\n  }\n}\n\nexport default Collections;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Layout, Card } from 'antd';\n// custom code\nimport { createAccount } from '../../api/redux/actions';\nimport './css/Login.less';\n\n// destructure antd\nconst { Content, Footer } = Layout;\n\nclass CreateAccount extends Component {\n  componentDidMount() {\n    document.title = 'Create Account';\n  }\n\n  onSubmit = (values, { setSubmitting }) => {\n    setSubmitting(false);\n    this.props.createAccount(values);\n  };\n\n  render() {\n    return (\n      <Layout className='login-layout'>\n        <Content className='login-content'>\n          <Card className='login-card'>\n            <Formik\n              initialValues={{ email: '', password: '', confirmPassword: '' }}\n              validationSchema={validationSchema}\n              onSubmit={this.onSubmit}\n            >\n              {({ isSubmitting }) => (\n                <Form className='login-form'>\n                  <h1 className='login-title'>\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingRight: '0.5rem' }}\n                    >\n                      \n                    </span>\n                    create user\n                    <span\n                      role='img'\n                      aria-label='jsx-a11y/accessible-emoji'\n                      style={{ paddingLeft: '0.5rem' }}\n                    >\n                      \n                    </span>\n                  </h1>\n                  <Field type='email' name='email' placeholder='email' className='login-field' />\n                  <ErrorMessage name='email' component='div' />\n                  <Field\n                    type='username'\n                    name='username'\n                    placeholder='username'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='username' component='div' />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='password' component='div' />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='confirm password'\n                    className='login-field'\n                  />\n                  <ErrorMessage name='confirmPassword' component='div' />\n                  <button type='submit' disabled={isSubmitting} className='login-submit'>\n                    create account\n                  </button>\n                  <Link to='/' style={{ textAlign: 'center' }} className='login-signup'>\n                    back to login\n                  </Link>\n                </Form>\n              )}\n            </Formik>\n          </Card>\n        </Content>\n        <Footer />\n      </Layout>\n    );\n  }\n}\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email('E-mail is not valid!').required('email is required'),\n  username: Yup.string().required('username is required'),\n  password: Yup.string()\n    .min(5, 'Password has to be longer than 6 characters!')\n    .required('password is required'),\n  confirmPassword: Yup.string()\n    .required('please confirm password')\n    .oneOf([Yup.ref('password')], \"Your passwords don't match\"),\n});\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(mapStateToProps, { createAccount })(CreateAccount);\n","import React, { Fragment } from 'react';\n//custom components\nimport NodeRenderer from '../../../types/render/NodeRenderer';\nimport './NodeCardFull.less';\n\nconst NodeCardFull = (props) => {\n  const renderNodeCard = () => {\n    if (props.node) {\n      return <NodeRenderer type={props.node.type} element={'full'} node={props.node} />;\n    }\n  };\n\n  return <Fragment>{renderNodeCard()}</Fragment>;\n};\n\nexport default NodeCardFull;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\nimport {\n  setActiveNode,\n  clearActiveNode,\n  fetchAssociations,\n  markNodeView,\n  updateNode,\n} from '../../api/redux/actions';\nimport MainSider from '../elements/MainSider';\nimport NodeCardFull from '../elements/node/NodeCardFull';\nimport Spinner from '../elements/Spinner';\nimport IOBar from '../elements/IOBar';\nimport AssociationList from '../elements/association/AssociationList';\nimport { message } from 'antd';\nconst { Content } = Layout;\n\nclass AssociationBrowser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      uuid: null,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.state.initialized) {\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentDidUpdate() {\n    var uuid = this.props.match.params.uuid;\n    // re-initialize if the URL changes\n    if (this.state.initialized && this.state.uuid !== uuid) {\n      this.setState({ initialized: false });\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentWillUnmount() {\n    // update collection preview if necessary\n    if (\n      this.props.activeNode.type &&\n      this.props.activeNode.type === 'collection' &&\n      !this.props.isDeleting\n    ) {\n      this.regenerateCollectionPreview(this.props.activeNode, this.props.associations);\n    }\n    this.props.clearActiveNode();\n  }\n\n  // intialize the association page\n  initializeFromUrlParams = async () => {\n    var uuid = this.props.match.params.uuid;\n    // window.scrollTo({ top: 0, behavior: 'smooth' });\n    window.scrollTo({ top: 0 });\n    await this.props.setActiveNode(uuid);\n    if (this.props.activeNode !== null) {\n      this.props.markNodeView(this.props.activeNode);\n    }\n    // fetch the user info from the server\n    await this.props.fetchAssociations({ nodeUUID: uuid });\n    if (this.props.associations !== null && this.props.activeNode !== null) {\n      this.setState({\n        initialized: true,\n        uuid: uuid,\n      });\n      document.title = this.props.activeNode.name;\n    } else {\n      message.error('there was a problem loading the associations');\n      this.props.history.push('/');\n    }\n  };\n\n  regenerateCollectionPreview = async (collectionNode, associationList) => {\n    try {\n      if (collectionNode && associationList) {\n        var i = 0;\n        var node;\n        var preview = [];\n        // get the first 4 non-collection non-user associated nodes and add them to the new preview\n        while (i < associationList.length && preview.length < 4) {\n          node = associationList[i];\n          if (node.type !== 'collection' && node.type !== 'user') {\n            preview.push({\n              type: node.type,\n              preview: node.preview,\n            });\n          }\n          i++;\n        }\n        this.props.updateNode({ uuid: collectionNode.uuid, preview: JSON.stringify(preview) });\n      }\n    } catch (err) {\n      this.props.history.push('/');\n    }\n  };\n\n  renderNode = () => {\n    if (this.state.uuid !== null && this.state.uuid === this.props.activeNode.uuid) {\n      return <NodeCardFull node={this.props.activeNode} />;\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        {this.renderMainSider()}\n        <Layout>\n          <Content\n            style={{\n              paddingTop: '0',\n              backgroundColor: 'black',\n              minHeight: '100vh',\n            }}\n          >\n            <IOBar />\n            <div className='list-container'>{this.renderNode()}</div>\n            <AssociationList />\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationList,\n    isLoading: state.nodes.isFetching,\n    activeNode: state.nodes.activeNode,\n    mainSider: state.components.componentList['mainSider'],\n    isDeleting: state.nodes.isDeleting,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setActiveNode,\n  clearActiveNode,\n  fetchAssociations,\n  markNodeView,\n  updateNode,\n})(AssociationBrowser);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  fetchNodes,\n  fetchAssociations,\n  showComponent,\n  fetchGraphData,\n  setActiveNode,\n} from '../../api/redux/actions';\nimport { Layout, message } from 'antd';\nimport { select, selectAll } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceX, forceY } from 'd3-force';\nimport { zoom, zoomIdentity } from 'd3-zoom';\n//custom components\nimport './css/GraphBrowser.less';\nimport MainSider from '../elements/MainSider';\nimport AssociationSider from '../elements/association/AssociationSider';\nimport AssociationList from '../elements/association/AssociationList';\n// destructure antd layout\nconst { Content } = Layout;\n\nclass GraphBrowser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      initialized: false,\n      uuid: null,\n    };\n  }\n\n  componentDidMount() {\n    document.title = 'constellation';\n    if (!this.state.initialized) {\n      this.initializeFromUrlParams();\n    }\n  }\n\n  componentDidUpdate() {\n    var uuid = this.props.match.params.uuid;\n    // re-initialize if the URL changes\n    if (this.state.initialized && this.state.uuid !== uuid) {\n      this.setState({ initialized: false });\n      this.initializeFromUrlParams();\n    }\n  }\n\n  // intialize the association page\n  initializeFromUrlParams = async () => {\n    var uuid = this.props.match.params.uuid;\n    // fetch the graph data\n    await this.props.fetchGraphData({\n      anchorNode: uuid,\n      type: this.props.query.type,\n      searchQuery: this.props.query.searchQuery,\n    });\n    // if all that was successful, finish initialization\n    if (this.props.graphData !== null) {\n      this.setState({\n        initialized: true,\n        uuid: uuid,\n      });\n      // render graph\n      this.renderGraph();\n      if (uuid) {\n        await this.props.setActiveNode(uuid);\n        await this.props.fetchAssociations({ nodeUUID: uuid });\n      }\n    } else {\n      message.error('there was a problem loading the data');\n      this.props.history.push('/');\n    }\n  };\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  // renderBackgroundImage = () => {\n  //   if (this.props.graphData) {\n  //     const graphData = this.props.graphData.nodes;\n  //     for (let item of graphData) {\n  //       if (item.type === 'image') {\n  //         // const imageUrl = item.path || item.preview;\n  //         // return { backgroundImage: `url(${imageUrl})` };\n  //         return null;\n  //       }\n  //     }\n  //     // return { backgroundImage: `url(${})` };\n  //     return null;\n  //   }\n  // };\n\n  renderAssociationSider = () => {\n    if (this.props.associationSider) {\n      return <AssociationSider />;\n    }\n  };\n\n  renderAssociationList = () => {\n    if (this.props.associations && this.props.associations.length > 0 && this.props.activeNode) {\n      // let graphData = this.props.graphData;\n      // return (\n      //   <div>\n      //   <NodeCardFull node={this.props.graphData.nodes[0]} />\n      //   <div>\n      // )\n      return <AssociationList />;\n    }\n  };\n\n  renderGraph = async () => {\n    // node data\n    const nodeData = this.props.graphData.nodes;\n    // link data\n    const linkData = this.props.graphData.associations;\n    // width and height\n    const height = window.innerHeight;\n    const width = window.innerWidth;\n    const nodeScale = 17;\n\n    // simulation\n    const simulation = forceSimulation(nodeData)\n      .force(\n        'link',\n        forceLink(linkData)\n          // .distance(0.7)\n          .id((d) => {\n            return d.id;\n          })\n      )\n      .force('charge', forceManyBody().strength(-700000 / nodeData.length))\n      .force('x', forceX())\n      .force('y', forceY())\n      .force('center', forceCenter());\n    // initial zoom\n    // var initialZoom = zoomIdentity.scale(0.55).translate(0, -15);\n    var initialZoom = zoomIdentity.scale(0.17).translate(0, -23);\n    const zoomData = zoom().scaleExtent([0.1, 1.7]).on('zoom', zoomed);\n\n    const svg = select(this.node)\n      .append('svg')\n      .attr('class', 'graph-svg')\n      .attr('viewBox', [-width / 2, -height / 2, width, height]);\n\n    const g = svg.append('g');\n\n    const link = g\n      .append('g')\n      .attr('stroke', 'white')\n      .attr('stroke-opacity', 0.7)\n      .selectAll('line')\n      .data(linkData)\n      .join('line')\n      .attr('class', 'graph-link')\n      .attr('stroke-width', (d) => Math.sqrt(d.value));\n\n    const node = g\n      .append('g')\n      .selectAll('circle')\n      .data(nodeData)\n      .join('g')\n      .call(this.drag(simulation))\n      .append('circle')\n      .on('contextmenu', (e, d) => {\n        e.preventDefault();\n        window.location.replace('/graph/' + d.uuid);\n      })\n      // .on('click', (e, d) => {\n      //   e.preventDefault();\n      //   this.props.showComponent('associationSider', d);\n      // })\n      .on('dblclick', (e, d) => {\n        e.preventDefault();\n        if (d.type === 'text') {\n          window.location.replace('/edit/text/' + d.uuid);\n        } else if (d.type === 'user') {\n          window.location.replace(`/profile/${this.props.user.username}`);\n        } else {\n          window.location.replace('/associations/' + d.uuid);\n        }\n      })\n      .attr('r', nodeScale)\n      // .attr('cursor', 'grab')\n      .attr('cursor', 'none')\n      .attr('fill', '#16e998')\n      .attr('class', 'graph-node');\n\n    const text = selectAll('g g g')\n      .append('text')\n      .text((d) => d.name.substring(0, 100))\n      .attr('font-size', '0.8rem')\n      .attr('cursor', 'grab')\n      // .attr('cursor', 'none')\n      // .attr('stroke', 'white')\n      // .attr('stroke-width', 0.1)\n      .attr('class', 'graph-text');\n    // .call(this.drag(simulation));\n\n    svg.call(zoomData).call(zoomData.transform, initialZoom);\n\n    function zoomed({ transform }) {\n      g.attr('transform', transform);\n    }\n\n    simulation.on('tick', () => {\n      // update link location values\n      link\n        .attr('x1', (d) => d.source.x)\n        .attr('y1', (d) => d.source.y)\n        .attr('x2', (d) => d.target.x)\n        .attr('y2', (d) => d.target.y);\n      // update node location values\n      node.attr('cx', (d) => d.x).attr('cy', (d) => d.y);\n      // update text location values\n      text.attr('x', (d) => d.x + nodeScale).attr('y', (d) => d.y - nodeScale);\n    });\n\n    return svg.node();\n  };\n\n  drag = (simulation) => {\n    function dragstarted(event, d) {\n      // move the dragged item to the top\n      var sel = select(this);\n      sel.raise();\n      // handle updating of coords\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n\n    function dragged(event, d) {\n      d.fx = event.x;\n      d.fy = event.y;\n    }\n\n    function dragended(event, d) {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n\n    return drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        {this.renderMainSider()}\n        {this.renderAssociationSider()}\n        <Layout>\n          <Content\n            style={{\n              paddingTop: '0',\n            }}\n          >\n            {/*  <IOBar />*/}\n            <div\n              className='graph-container'\n              // style={this.renderBackgroundImage()}\n              ref={(node) => (this.node = node)}\n            ></div>\n            {this.renderAssociationList()}\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    associations: state.associations.associationList,\n    user: state.auth.user,\n    activeNode: state.nodes.activeNode,\n    graphData: state.graph.graphData,\n    loading: state.graph.isFetching,\n    associationSider: state.components.componentList['associationSider'],\n    mainSider: state.components.componentList['mainSider'],\n    nodeList: state.nodes.nodeList,\n    query: state.nodes.query,\n    isFetching: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchNodes,\n  showComponent,\n  fetchGraphData,\n  fetchAssociations,\n  setActiveNode,\n})(GraphBrowser);\n","import instance from '../../../api/instance';\nimport history from '../../../utils/history';\nimport {\n  FETCH_GRAPH_DATA,\n  FETCH_GRAPH_DATA_ERROR,\n  FETCH_GRAPH_DATA_SUCCESS,\n  RESET_APP,\n} from './types';\nimport { message } from 'antd';\n\n// fetch a list of nodes\nexport const fetchGraphData = (query) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_GRAPH_DATA });\n    const response = await instance.get('/node/graph', {\n      params: { anchorNode: query.anchorNode, type: query.type, searchQuery: query.searchQuery },\n    });\n    dispatch({ type: FETCH_GRAPH_DATA_SUCCESS, payload: response.data, query });\n  } catch (err) {\n    dispatch({ type: FETCH_GRAPH_DATA_ERROR });\n    dispatch({ type: RESET_APP });\n    message.error('Could not fetch items', 1);\n    history.push('/');\n  }\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout, Icon } from 'antd';\n// custom code\nimport './css/Help.less';\nimport MainSider from '../elements/MainSider';\nimport IOBar from '../elements/IOBar';\nimport defaultHeader from '../../resources/help.png';\n\nconst { Content } = Layout;\n\nclass Help extends Component {\n  componentDidMount() {\n    document.title = 'Help';\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n  }\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <Layout>\n          {this.renderMainSider()}\n          <Content\n            style={{\n              minHeight: '100vh',\n              backgroundColor: '#e0dcc7',\n              textAlign: 'left',\n            }}\n          >\n            <div style={{ position: 'fixed', width: '100%' }}>\n              <IOBar />\n            </div>\n            <img style={{ width: '100%' }} src={defaultHeader} alt='stars'></img>\n            <div className='help-container' style={{ padding: '1.3rem 17rem 1rem' }}>\n              <h2 style={{ fontSize: '2rem' }}>Help Page</h2>\n              <p>\n                Hello there! Welcome to the help page! This is where you can get the help you need,\n                so you can rest easy. Allow me to explain exactly what is going on here. First\n                things first, you are on the help page! It's a nice place to hang out. There's all\n                kinds of wonderful things you learn while you are here!\n              </p>\n              <h2>What is Synthona?</h2>\n              <p>\n                Synthona allows you to create, explore, and share networks made out of content! That\n                might sound confusing but it's really not so bad once you get familiar.{' '}\n                <b>\n                  The good news is that you cannot really mess anything up, Synthona will not make\n                  any changes to any content outside itself{' '}\n                </b>\n                (at least not in this version). Even if you upload a file, Synthona will only make a\n                copy, the original file will still exist on your computer. The worst thing you can\n                do is delete something from Synthona, but that action is clearly marked by a garbage\n                can.\n              </p>\n              <h2>Keyboard Shortcuts</h2>\n              <p>\n                For now the main keyboard shortcuts, which currently only work in the core app (not\n                in tabs you open in your web browser) are as follows:\n              </p>\n              <ul>\n                <li>CMD/CTRL+G - jump to the graph constellation browser</li>\n                <li>CMD/CTRL+H - jump to the home page</li>\n                <li>CMD/CTRL+J - jump to pinboard</li>\n                <li>CMD/CTRL+OPTION/ALT+1 - save the current node to the quick menu</li>\n                <li>CMD/CTRL+1 - jump to #1 on the quick menu if you have saved something there</li>\n                <li>Quick-Menu - the quick menu will also work with the number keys 1-9</li>\n              </ul>\n              <h2>What are do all these icons mean?</h2>\n              <p>\n                If you hover over most icons for a couple of seconds a tooltip should show up which\n                explains what the button does, but I've written out a guide here as well so you can\n                be confident of what your clicks will accomplish.\n              </p>\n              <h3>\n                Associations <Icon type={'branches'} theme='outlined' />\n              </h3>\n              <p>\n                This is the associations icon. It mostly appears on node cards in the node explorer.\n                Clicking it will typically bring up a menu which lists the associations for a given\n                node and allows you to add new ones.\n              </p>\n              <Icon type={'branches'} theme='outlined' className='help-icon' />\n              <h3>\n                Light Bulb <Icon type={'bulb'} theme='outlined' />\n              </h3>\n              <p>\n                The light bulb is the universal symbol for having a good idea, which is why it was\n                chosen as the \"good idea\" button. Whenever you click the light bulb icon the node in\n                question will be marked as viewed, bumped, jumped to the top of the page. You can\n                click this button as much as you want and nothing bad will happen!\n              </p>\n              <Icon type={'bulb'} theme='outlined' className='help-icon' />\n              <h3>\n                Graph Icon <Icon type={'deployment-unit'} theme='outlined' />\n              </h3>\n              <p>\n                This icon will take you to the graph constellation browser! I'll explain more about\n                that a little later.\n              </p>\n              <Icon type={'deployment-unit'} theme='outlined' className='help-icon' />\n              <h3>\n                Pushpin <Icon type={'pushpin'} theme='outlined' />\n              </h3>\n              <p>\n                This button will allow you to pin a node to your pinboard! The Pinboard is a sort of\n                top-level root page, but you can think of it as one of those tackboards you would\n                use pushpins on in real life to hang sticky notes on! Store stuff on the pinboard\n                for a short time or a long time, it's up to you!\n              </p>\n              <Icon type={'pushpin'} theme='outlined' className='help-icon' />\n              <h3>\n                Open In Browser <Icon type={'global'} theme='outlined' />\n              </h3>\n              <p>\n                This button will open the active node in your default web browser! This is useful\n                for various reasons, like if you want to run the application in your browser as a\n                tab, if you wanted to save images or files into your downloads folder, or as a way\n                to manage additional synthona tabs.\n              </p>\n              <Icon type={'global'} theme='outlined' className='help-icon' />\n              <h3>\n                Visible <Icon type={'eye'} theme='outlined' />\n              </h3>\n              <p>\n                Clicking this icon allows you to toggle whether a node is visible on the homepage or\n                not. Nodes which are hidden from the homepage will only be accessible through their\n                associations. This allows you to hide content behind other content.\n              </p>\n              <Icon type={'eye'} theme='outlined' className='help-icon' />\n              <h3>\n                Searchable <Icon type={'search'} theme='outlined' />\n              </h3>\n              <p>\n                Clicking this icon allows you to toggle whether a node will appear in a search or\n                not.\n              </p>\n              <Icon type={'search'} theme='outlined' className='help-icon' />\n              <h3>\n                Delete <Icon type={'delete'} theme='outlined' />\n              </h3>\n              <p>\n                This is the garbage can, it lets you put delete nodes from the system! Not bad,\n                pretty good!\n              </p>\n              <Icon type={'delete'} theme='outlined' className='help-icon' />\n              <h3>\n                Synthona Packages <Icon type={'gift'} theme='outlined' />\n              </h3>\n              <p>\n                Synthona packages allow you to share nodes and their associations between computers\n                as <i>.synth</i> files, which can be re-imported by anyone into any synthona\n                instance on any computer. These files are represented within synthona by this{' '}\n                <Icon type={'gift'} theme='outlined' /> icon. If you click this icon on a\n                non-package node in your system, it will generate an export package based on the\n                node you clicked it from. Synthona packages contain the node in question, all the\n                nodes associated with it, and their associations with each other. More specificity\n                in exports is a planned feature for the future as well.\n              </p>\n              <p>\n                If you have created or imported a Synthona package into your Synthona instance, you\n                will see this icon on the package page. Clicking it will \"unpack\" the package,\n                importing all the nodes and associations it contains into your profile. Once you\n                click this, it will be replaced by an \"undo\" <Icon type={'undo'} theme='outlined' />{' '}\n                icon which will allow you to \"repack\" the package. The undo option will delete all\n                the nodes which unpacking created, which makes unpacking a reversible operation. Be\n                warned however! If you have made changes to any of the nodes you imported they will\n                still be removed (at least that's how it works right now).\n              </p>\n              <p>\n                Sythona packages are great for all kinds of things...sharing your thoughts with\n                others, sharing files for a project, sharing photo albums, and more! If you're a\n                developer, you may also be interested to know that these exports are largely just\n                JSON which means you could potentially integrate them with other software.\n              </p>\n              <Icon type={'gift'} theme='outlined' className='help-icon' />\n              <h2>What should I do first?</h2>\n              <p>\n                You can start by uploading or creating some content, you do this by clicking the\n                blue button at the top of the page. This will transform it into a plus sign and put\n                the IO bar into <i>create-mode</i>.\n              </p>\n              <p>\n                From there, to the left of the input field there is a dropdown menu which contains\n                some content types. You can select one of those which will prepare the IO bar to\n                create that content. For most content types you can type a name for the node you're\n                about to create into the input field and it will automatically be added to the\n                generated node. The exception is urls which don't allow a name on creation since you\n                have to paste the url into that space instead. To finish creating a node, hit enter\n                in the input bar or click the button to the right side of the text input. That's it!\n                Now it's in the system.\n              </p>\n              <h2>What are nodes and associations?</h2>\n              <p>\n                Synthona is premised on the idea that all content is a <i>node</i> which can be\n                associated, connected, related, to any other piece of content. A connection between\n                any two pieces of content is called an <i>association</i>. If you understand these\n                two ideas, you understand Synthona! That's all there is to it, the rest is just\n                building on these two assumptions.\n              </p>\n              <h2>The Graph Constellation Browser</h2>\n              <p>\n                The Graph Browser, sometimes known as the Constellation browser, is one way to\n                browse through your nodes and associations! You can get there clicking the \"graph\"\n                icon <Icon type={'deployment-unit'} theme='outlined' /> on any node, on the IO bar,\n                or by clicking the \"graph\" option from the main menu. If you click it from a\n                specific node, you'll see the associations for that node and their relationships to\n                each other displayed. Accessing it from the IO bar or options menu will instead show\n                a list of the most recently accessed nodes! Once you are in the constellation\n                browser you can zoom in and out by scrolling up and down, jump to a node by double\n                clicking it, or jump through the graph browser by right clicking on a node.\n              </p>\n              <h2>How do I edit the name of a node?</h2>\n              <p>If you double click the title it should turn into an editable text field.</p>\n              <h2>\n                Help! I hid a node from both search and the explore page. How do I find it again?\n              </h2>\n              <p>\n                No problem! The way to find your lost node is to set another node, preferably a\n                well-connected one, temporarily to <i>hidden from explore</i> by clicking the{' '}\n                <Icon type={'eye'} theme='outlined' /> icon so it toggles to{' '}\n                <Icon type={'eye-invisible'} theme='outlined' />. Now, from that well-connected node\n                which you've hidden from the explore page, go to add a new association. It is\n                possible to associate hidden nodes to other hidden nodes, and so you should be able\n                to associate to it and find it again that way.\n              </p>\n              <h2>Is my data being backed up anywhere?</h2>\n              <p>\n                Only in the app database which is stored on your computer. If you want to save a\n                copy of your data elsewhere, you can generate manual backups as often as you want\n                through the export functionality. If you go to the options menu there is a button\n                labeled \"export all user data\". This will put all your nodes and associations into a\n                .synth file which will be added to your homepage. You can then click through to\n                download that file. That .synth file containing all your data can be imported back\n                in later, onto a version on another computer, or stored as a backup. Also, although\n                it's not really designed for this, you could break the .synth file open to get at\n                the files themselves. If you need to get at the specific files in there, you can\n                change the file extension from .synth to .zip which should allow your computer to\n                de-compress the archive although some of the files might have...computery...names.\n              </p>\n              <h2>Where is the data stored on my computer?</h2>\n              <p>\n                Your data is stored in your user data folder. This will be different depending on\n                your operating system, but you can see the specific folder by click 'advanced' in\n                the top menu bar and 'view config file'. The folder containing the config file also\n                contains some core app files along with the core 'data' folder and sqlite database.\n                You shouldn't have to ever mess with any of this unless you are a developer or you\n                really know what you are doing, as it is possible to break the app if you start to\n                mess with stuff in there!\n              </p>\n              <h2>What if I have an idea for a change to the app?</h2>\n              <p>\n                Synthona is an open-source project and is licensed under GPLv3 which means if you\n                want to take things into your own hands you're free to fork the project, but I am\n                also more than willing to hear out your concerns and try to implement changes myself\n                if I can or accept pull requests if they fit the project roadmap! There is a very\n                clear vision for where the app is headed, but suggestions are still welcome. The\n                goal here is to make something which benefits as many people as possible. If you're\n                interested in taking a look at the code feel free to check out the project on{' '}\n                <a href='https://www.github.com/synthona' target='_blank' rel='noopener noreferrer'>\n                  github\n                </a>\n                !\n              </p>\n              <h2>I want to financially support development, what should I do?</h2>\n              <p>\n                There is a{' '}\n                <a\n                  href='https://www.patreon.com/synthona'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  patreon\n                </a>{' '}\n                you can contribute to, a{' '}\n                <a href='https://ko-fi.com/hyperpoints' target='_blank' rel='noopener noreferrer'>\n                  ko-fi\n                </a>{' '}\n                linked to my personal twitter, and I may add more options in the future, for example\n                I am considering creating an account on{' '}\n                <a href='https://opencollective.com/' target='_blank' rel='noopener noreferrer'>\n                  open-collective\n                </a>{' '}\n                or similar. I have a lot of ideas for improvements to this application including\n                things like P2P features, automatic updates, theme support, plugin support, a lot of\n                other node types, maps, web-features, analytics, social features, 3D features, LAN\n                connections between instances, and so much more, but I can't afford to work on\n                features full time at the moment. This project was originally designed to function\n                as a distrubuted P2P social network and that is not really off the table, but there\n                is still a lot of work to be done before that is possible and funding would allow me\n                to work on that and other features including a phone application. These things are\n                still in the works of course, it's just that with funding we could speed things\n                along!\n              </p>\n              <h2>I have a bug report, feature request, or other inquiry?</h2>\n              <p>\n                Please send an email to{' '}\n                <a\n                  href='mailto:synthona@gmail.com'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                  type='email'\n                >\n                  synthona@gmail.com\n                </a>{' '}\n                or reach out on{' '}\n                <a\n                  href='https://www.twitter.com/synthona'\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  twitter\n                </a>{' '}\n                and we will get things sorted out as soon as possible!\n              </p>\n            </div>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    mainSider: state.components.componentList['mainSider'],\n  };\n};\n\nexport default connect(mapStateToProps)(Help);\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\n// custom code\nimport './NodeList.less';\nimport { fetchNodes } from '../../../api/redux/actions';\nimport NodeCard from './NodeCard';\nimport AssociationSider from '../association/AssociationSider';\nimport Spinner from '../Spinner';\n\nclass PinList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topOfPage: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchNodes({\n      page: 1,\n      type: this.props.query.type,\n      searchQuery: this.props.query.searchQuery,\n      pinned: true,\n    });\n    window.addEventListener('scroll', this.infiniteScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.infiniteScroll);\n  }\n\n  infiniteScroll = (e) => {\n    if (this.endReached() && !this.props.isFetching) {\n      this.setState({ topOfPage: false });\n      // fetch the next page\n      this.props.fetchNodes({\n        page: this.props.query.page + 1,\n        type: this.props.query.type,\n        searchQuery: this.props.query.searchQuery,\n        pinned: true,\n      });\n    }\n  };\n\n  endReached = () => {\n    // window calculations to tell when the user scrolls to the bottom\n    const windowHeight =\n      'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    // check if the top is reached\n    if (window.pageYOffset < 1 && !this.props.isFetching && !this.state.topOfPage) {\n      this.setState({ topOfPage: true });\n      // at the top of the page, reset the nodelist\n      this.props.fetchNodes({\n        page: 1,\n        type: this.props.query.type,\n        searchQuery: this.props.query.searchQuery,\n        pinned: true,\n      });\n    }\n    // if it's not the top of the page go ahead and fetch more\n    return windowBottom >= docHeight - 733;\n  };\n\n  renderPinList = () => {\n    // go through the list of nodes and render them to the page\n    const nodeList = this.props.nodes;\n    // if there are nodes go ahead and render\n    if (nodeList !== null) {\n      return nodeList.map((node) => {\n        if (node.uuid) {\n          // return <NodeCardFull key={node.uuid} node={node} />\n          return <NodeCard key={node.uuid} node={node} />;\n        } else {\n          return <Fragment></Fragment>;\n        }\n      });\n    } else {\n      return <Spinner></Spinner>;\n    }\n  };\n\n  render() {\n    return (\n      <div className='nodelist-container'>\n        <ul className='nodelist'>{this.renderPinList()}</ul>\n        <AssociationSider />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodes: state.nodes.nodeList,\n    query: state.nodes.query,\n    totalNodes: state.nodes.totalItems,\n    isFetching: state.nodes.isFetching,\n  };\n};\n\nexport default connect(mapStateToProps, { fetchNodes })(PinList);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Layout, Button, Select, Icon } from 'antd';\n// custom code\nimport './css/IOBar.less';\nimport {\n  signOut,\n  createFileNode,\n  createUrlNode,\n  createNode,\n  searchNodes,\n  showComponent,\n  hideComponent,\n} from '../../api/redux/actions';\n// destructure antd components\nconst { Header } = Layout;\nconst { Option } = Select;\n\nclass PinHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: this.props.query.searchQuery || '',\n      nodeTypes: this.props.query.type || 'all',\n    };\n  }\n\n  toggleMainSider = async () => {\n    // await this.props.showComponent('mainSider');\n    if (this.props.mainSider) {\n      this.props.hideComponent('mainSider');\n    } else {\n      this.props.showComponent('mainSider');\n    }\n  };\n\n  // handle text input\n  commandHandler = () => {\n    return this.props.searchNodes({\n      searchQuery: this.state.input,\n      type: this.state.nodeTypes,\n    });\n  };\n\n  // include an \"all\" option for queries\n  renderSelectBefore = () => {\n    return (\n      <Select\n        showSearch\n        showArrow={false}\n        value={this.state.nodeTypes}\n        onChange={(value) => this.setState({ nodeTypes: value })}\n      >\n        <Option value='all'>all</Option>\n        <Option value='url'>urls</Option>\n        <Option value='text'>text</Option>\n        <Option value='file'>file</Option>\n        <Option value='image'>images</Option>\n        <Option value='collection'>collections</Option>\n      </Select>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <Header className='page-header'>\n          <ul\n            className='nav-list'\n            style={{ width: 'auto', justifyContent: 'left', marginLeft: '1.1rem' }}\n          >\n            <li className='nav-item io-sider-button' style={{ marginRight: '0' }}>\n              <Button type='default' shape='circle' onClick={(e) => this.toggleMainSider()}>\n                <Icon type={'bars'} theme='outlined' />\n              </Button>\n            </li>\n            <li className='nav-item io-sider-button' style={{ marginRight: '0.5rem' }}>\n              <Link type='default' to={`/graph`}>\n                <Icon type={'deployment-unit'} theme='outlined' />\n              </Link>\n            </li>\n            <li className='nav-item io-sider-button'>\n              <Link type='default' to={`/`}>\n                <Icon type={'home'} theme='outlined' />\n              </Link>\n            </li>\n            <li className='nav-item'>\n              <p style={{ color: 'grey', paddingLeft: '0.7rem' }}>pinboard</p>\n            </li>\n          </ul>\n        </Header>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.auth.user,\n    query: state.nodes.query,\n    mainSider: state.components.componentList['mainSider'],\n    activeNode: state.nodes.activeNode,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signOut,\n  searchNodes,\n  createNode,\n  createFileNode,\n  createUrlNode,\n  showComponent,\n  hideComponent,\n})(PinHeader);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Layout } from 'antd';\n// custom code\nimport MainSider from '../elements/MainSider';\nimport PinList from '../elements/node/PinList';\nimport PinHeader from '../elements/PinHeader';\n// import IOBar from '../elements/IOBar';\n\nconst { Content } = Layout;\n\nclass Pins extends Component {\n  componentDidMount() {\n    document.title = 'pins';\n    // temporary fix to undo whatever is setting overflow hidden on-login\n    document.body.style.removeProperty('overflow');\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  renderMainSider = () => {\n    if (this.props.mainSider) {\n      return <MainSider />;\n    }\n  };\n\n  render() {\n    return (\n      <Layout className='page-layout'>\n        <Layout>\n          {this.renderMainSider()}\n          <Content style={{ minHeight: '100vh' }}>\n            <PinHeader />\n            <div className='list-container'>\n              <PinList />\n            </div>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    mainSider: state.components.componentList['mainSider'],\n  };\n};\n\nexport default connect(mapStateToProps)(Pins);\n","import React, { Component, Fragment } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\n// custom code\nimport '../app.less';\nimport { isAuthenticated } from '../api/redux/actions';\n// custom components\nimport Login from './layouts/Login';\nimport Home from './layouts/Home';\nimport Profile from './layouts/Profile';\nimport Options from './layouts/Options';\nimport Activity from './layouts/Activity';\nimport QuillEditor from './QuillEditor/QuillEditor';\nimport Collections from './layouts/Collections';\nimport Spinner from './elements/Spinner';\nimport CreateAccount from './layouts/CreateAccount';\nimport AssociationBrowser from './layouts/AssociationBrowser';\nimport GraphBrowser from './layouts/GraphBrowser';\nimport Help from './layouts/Help';\nimport Pins from './layouts/Pins';\n\nclass App extends Component {\n  componentDidMount() {\n    if (this.props.isAuth === null) {\n      this.props.isAuthenticated();\n    }\n  }\n  render() {\n    let routes;\n    if (this.props.isAuth) {\n      routes = (\n        <Switch>\n          <Route path='/' exact component={Home} />\n          <Route path='/profile/:username' exact component={Profile} />\n          <Route path='/activity' exact component={Activity} />\n          <Route path='/collections' exact component={Collections} />\n          <Route path='/edit/text/:uuid' exact component={QuillEditor} />\n          <Route path='/edit/profile' exact component={Options} />\n          <Route path='/associations/:uuid' exact component={AssociationBrowser} />\n          <Route path='/graph/:uuid?' exact component={GraphBrowser} />\n          <Route path='/pins' exact component={Pins} />\n          <Route path='/help' exact component={Help} />\n        </Switch>\n      );\n    } else if (this.props.isFetchingAuth) {\n      routes = <Spinner />;\n    } else {\n      routes = (\n        <Switch>\n          <Route path='/' exact component={Login} />\n          <Route path='/create-account' exact component={CreateAccount} />\n          <Route component={Login} />\n        </Switch>\n      );\n    }\n    return <Fragment>{routes}</Fragment>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.auth.user,\n    isFetchingAuth: state.auth.isFetching,\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport default connect(mapStateToProps, { isAuthenticated })(App);\n","import {\n  CREATE_ACCOUNT,\n  CREATE_ACCOUNT_SUCCESS,\n  CREATE_ACCOUNT_ERROR,\n  SIGN_IN,\n  SIGN_IN_SUCCESS,\n  SIGN_IN_ERROR,\n  SIGN_OUT,\n  SIGN_OUT_ERROR,\n  REFRESH_AUTH,\n  REFRESH_AUTH_SUCCESS,\n  REFRESH_AUTH_ERROR,\n  UPDATE_USER_NODE,\n  UPDATE_USER_NODE_ERROR,\n  UPDATE_USER_NODE_SUCCESS,\n  UPDATE_USER_AVATAR,\n  UPDATE_USER_AVATAR_SUCCESS,\n  UPDATE_USER_AVATAR_ERROR,\n  UPDATE_USER_HEADER,\n  UPDATE_USER_HEADER_SUCCESS,\n  UPDATE_USER_HEADER_ERROR,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isAuth: null,\n  isFetching: null,\n  user: null,\n};\n\n// reducer for authentication state and user object\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CREATE_ACCOUNT:\n      return { ...state, isFetching: true };\n    case CREATE_ACCOUNT_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case CREATE_ACCOUNT_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_IN:\n      return { ...state, isFetching: true };\n    case SIGN_IN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        user: action.payload,\n        isAuth: true,\n      };\n    case SIGN_IN_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case SIGN_OUT:\n      return { ...state, isFetching: true };\n    case SIGN_OUT_ERROR:\n      return { ...state, isFetching: null };\n    case REFRESH_AUTH:\n      return {\n        ...state,\n        isFetching: true,\n        user: action.payload,\n        isAuth: action.isAuth,\n      };\n    case REFRESH_AUTH_SUCCESS:\n      return { isFetching: null, user: action.payload, isAuth: true };\n    case REFRESH_AUTH_ERROR:\n      return { ...state, isFetching: null, user: null, isAuth: false };\n    case UPDATE_USER_NODE:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_NODE_SUCCESS:\n      return { ...state, isFetching: null, user: action.user };\n    case UPDATE_USER_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_AVATAR:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_AVATAR_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, avatar: action.url } };\n    case UPDATE_USER_AVATAR_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_USER_HEADER:\n      return { ...state, isFetching: true };\n    case UPDATE_USER_HEADER_SUCCESS:\n      window.location.reload();\n      return { ...state, isFetching: null, user: { ...state.user, header: action.url } };\n    case UPDATE_USER_HEADER_ERROR:\n      return { ...state, isFetching: null };\n    default:\n      return state;\n  }\n};\n","import {\n  EDIT_TEXT_NODE,\n  EDIT_TEXT_NODE_SUCCESS,\n  EDIT_TEXT_NODE_ERROR,\n  FETCH_NODES,\n  FETCH_NODES_SUCCESS,\n  FETCH_NODES_ERROR,\n  UPDATE_NODE,\n  UPDATE_NODE_ERROR,\n  UPDATE_NODE_SUCCESS,\n  UPDATE_ACTIVE_NODE,\n  UPDATE_ACTIVE_NODE_ERROR,\n  UPDATE_ACTIVE_NODE_SUCCESS,\n  PROCESS_TEXT_NODE,\n  PROCESS_TEXT_NODE_SUCCESS,\n  PROCESS_TEXT_NODE_ERROR,\n  CREATE_FILE_NODE,\n  CREATE_FILE_NODE_SUCCESS,\n  CREATE_FILE_NODE_ERROR,\n  SEARCH_NODES,\n  SEARCH_NODES_SUCCESS,\n  SEARCH_NODES_ERROR,\n  MARK_NODE_VIEW,\n  MARK_NODE_VIEW_SUCCESS,\n  MARK_NODE_VIEW_ERROR,\n  CREATE_NODE,\n  CREATE_NODE_SUCCESS,\n  CREATE_NODE_ERROR,\n  SET_ACTIVE_NODE,\n  SET_ACTIVE_NODE_SUCCESS,\n  SET_ACTIVE_NODE_ERROR,\n  DELETE_NODE,\n  DELETE_NODE_ERROR,\n  DELETE_NODE_SUCCESS,\n  CLEAR_ACTIVE_NODE,\n  GENERATE_EXPORT,\n  GENERATE_EXPORT_ERROR,\n  GENERATE_EXPORT_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  isSaving: null,\n  isDeleting: null,\n  nodeList: [],\n  totalItems: null,\n  query: { page: 1 },\n  activeNode: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_NODES:\n      return { ...state, isFetching: true };\n    case FETCH_NODES_SUCCESS:\n      var nodesArray;\n      // reset nodesArray if page number has decreased\n      if (action.query.page > state.query.page) {\n        nodesArray = [...state.nodeList];\n      } else {\n        nodesArray = [];\n      }\n      // update the nodelist with the new values\n      Object.values(action.payload.nodes).forEach((node) => {\n        // if (!nodesArray.some((item) => item.uuid === node.uuid)) {\n        //   nodesArray.push(node);\n        // }\n        nodesArray.push(node);\n      });\n      if (nodesArray.length > 100) {\n        // if the length gets too long free up some memory\n        nodesArray.splice(0, action.payload.nodes.length);\n      }\n      return {\n        ...state,\n        isFetching: null,\n        query: action.query,\n        totalItems: action.payload.totalItems,\n        nodeList: nodesArray,\n      };\n    case FETCH_NODES_ERROR:\n      return { ...state, isFetching: null };\n    case SEARCH_NODES:\n      return { ...state, isFetching: true };\n    case SEARCH_NODES_SUCCESS:\n      nodesArray = [];\n      // update the nodelist with the new values\n      Object.values(action.payload.nodes).forEach((node) => {\n        if (!nodesArray.some((item) => item.uuid === node.uuid)) {\n          nodesArray.push(node);\n        }\n      });\n      if (nodesArray.length > 100) {\n        // if the length gets too long free up some memory\n        nodesArray.splice(0, action.payload.nodes.length);\n      }\n      return {\n        ...state,\n        isFetching: null,\n        query: { page: 1, type: action.query.type, searchQuery: action.query.searchQuery },\n        totalItems: action.payload.totalItems,\n        nodeList: nodesArray,\n      };\n    case SEARCH_NODES_ERROR:\n      return { ...state, isFetching: null };\n    case UPDATE_NODE:\n      return { ...state, isSaving: true };\n    case UPDATE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case UPDATE_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        nodeList: state.nodeList.map((node) => {\n          if (node.uuid === action.result.uuid) {\n            node = action.result;\n          }\n          return node;\n        }),\n      };\n    case UPDATE_ACTIVE_NODE:\n      return { ...state, isSaving: true };\n    case UPDATE_ACTIVE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case UPDATE_ACTIVE_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        activeNode: action.result.uuid === state.activeNode.uuid ? action.result : state.activeNode,\n        nodeList: state.nodeList.map((node) => {\n          if (node.uuid === action.result.uuid) {\n            node = action.result;\n          }\n          return node;\n        }),\n      };\n    case EDIT_TEXT_NODE:\n      return { ...state, isSaving: true };\n    case EDIT_TEXT_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        // update the content on the activeNode\n        activeNode: {\n          ...state.activeNode,\n          content: action.node.content,\n        },\n      };\n    case EDIT_TEXT_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case PROCESS_TEXT_NODE:\n      return { ...state, isSaving: true };\n    case PROCESS_TEXT_NODE_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        // update the preview in the nodelist\n        // leave everything else as-is\n        nodeList: state.nodeList.map((node) => {\n          // only update it for the processsed node\n          if (node.uuid === action.node.uuid) {\n            node.preview = action.node.preview;\n          }\n          return node;\n        }),\n      };\n    case PROCESS_TEXT_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case CREATE_FILE_NODE:\n      return { ...state, isSaving: true };\n    case CREATE_FILE_NODE_SUCCESS:\n      return {\n        ...state,\n        isFetching: null,\n        nodeList: [action.payload, ...state.nodeList],\n      };\n    case CREATE_FILE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case CREATE_NODE:\n      return { ...state, isSaving: true };\n    case CREATE_NODE_SUCCESS:\n      // add new node to list and move to front of node order\n      return {\n        ...state,\n        isFetching: null,\n        nodeList: [\n          action.payload,\n          ...state.nodeList.filter((node) => node.uuid !== action.payload.uuid),\n        ],\n        activeNode: action.payload.node,\n      };\n    case CREATE_NODE_ERROR:\n      return { ...state, isSaving: null };\n    case MARK_NODE_VIEW:\n      return { ...state, isSaving: true };\n    case MARK_NODE_VIEW_SUCCESS:\n      var newNodeList;\n      // only send the node back to the beginning if the user is at the top of the list\n      if (state.nodeList.length < 20) {\n        newNodeList = [\n          action.node,\n          ...state.nodeList.filter((node) => node.uuid !== action.node.uuid),\n        ];\n      } else {\n        // otherwise just make it \"disapear\" to reappaar when they return to the top\n        newNodeList = [...state.nodeList.filter((node) => node.uuid !== action.node.uuid)];\n      }\n      return {\n        ...state,\n        isSaving: null,\n        nodeList: newNodeList,\n      };\n    case MARK_NODE_VIEW_ERROR:\n      return { ...state, isSaving: null };\n    case SET_ACTIVE_NODE:\n      return { ...state, isFetching: true };\n    case SET_ACTIVE_NODE_SUCCESS:\n      return { ...state, isFetching: null, activeNode: action.payload.node };\n    case SET_ACTIVE_NODE_ERROR:\n      return { ...state, isFetching: null };\n    case CLEAR_ACTIVE_NODE:\n      return { ...state, activeNode: null };\n    case DELETE_NODE:\n      return { ...state, isDeleting: true };\n    case DELETE_NODE_SUCCESS:\n      return {\n        ...state,\n        // filter the node out of the list\n        nodeList: [...state.nodeList.filter((node) => node.uuid !== action.uuid)],\n        isDeleting: null,\n      };\n    case DELETE_NODE_ERROR:\n      return { ...state, isDeleting: null };\n    case GENERATE_EXPORT:\n      return { ...state, isSaving: true };\n    case GENERATE_EXPORT_ERROR:\n      return {\n        ...state,\n        isSaving: null,\n      };\n    case GENERATE_EXPORT_SUCCESS:\n      return {\n        ...state,\n        isSaving: null,\n        nodeList: [action.payload, ...state.nodeList],\n        // activeNode: action.payload.node,\n      };\n    default:\n      return state;\n  }\n};\n","import { SHOW_COMPONENT, HIDE_COMPONENT } from '../actions/types';\n\nconst INITIAL_STATE = {\n  componentList: {},\n};\n\n// reducer for UI components which need to store redux state\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SHOW_COMPONENT:\n      return {\n        ...state,\n        componentList: {\n          ...state.componentList,\n          [action.payload.type]: { content: action.payload.content, visible: true },\n        },\n      };\n    case HIDE_COMPONENT:\n      return {\n        ...state,\n        componentList: {\n          ...state.componentList,\n          [action.payload.type]: null,\n        },\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  FETCH_GRAPH_DATA,\n  FETCH_GRAPH_DATA_ERROR,\n  FETCH_GRAPH_DATA_SUCCESS,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  isFetching: null,\n  graphNodeList: [],\n  graphAssociationList: [],\n  totalItems: null,\n  query: { page: 1 },\n  activeNode: null,\n  graphData: null,\n};\n\n// reducer for content nodes\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_GRAPH_DATA:\n      return { ...state, isFetching: true };\n    case FETCH_GRAPH_DATA_ERROR:\n      return { ...state, isFetching: null };\n    case FETCH_GRAPH_DATA_SUCCESS:\n      // format nodes\n      const nodeArray = [];\n      action.payload.nodes.map((node) => {\n        return nodeArray.push(node);\n      });\n      // format associations\n      const associationArray = [];\n      action.payload.associations.map((association) => {\n        const reformated = { source: association.nodeId, target: association.linkedNode };\n        return associationArray.push(reformated);\n      });\n      return {\n        ...state,\n        isFetching: null,\n        graphData: { nodes: nodeArray, associations: associationArray },\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n//custom code\nimport history from './utils/history';\nimport App from './components/App';\nimport reducers from './api/redux/reducers';\n\n// add redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// create store\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.querySelector('#root')\n);\n","import { RESET_APP } from '../actions/types';\n// custom code\nimport authReducer from './authReducer';\nimport nodeReducer from './nodeReducer';\nimport componentReducer from './componentReducer';\nimport associationReducer from './associationReducer';\nimport graphReducer from './graphReducer';\n\n// custom combineReducers\nexport default (state = {}, action) => {\n  // reset app state if need-be\n  if (action.type === RESET_APP) {\n    state = {};\n  }\n\n  // return other reducers\n  return {\n    auth: authReducer(state.auth, action),\n    nodes: nodeReducer(state.nodes, action),\n    components: componentReducer(state.components, action),\n    associations: associationReducer(state.associations, action),\n    graph: graphReducer(state.graph, action),\n  };\n};\n","module.exports = __webpack_public_path__ + \"static/media/synthona-logo.b740604b.png\";","module.exports = __webpack_public_path__ + \"static/media/cloud9.22dc8cce.png\";"],"sourceRoot":""}